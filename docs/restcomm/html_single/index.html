<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>RestComm User Guide</title><link rel="stylesheet" type="text/css" href="css/telestax_org.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"/><meta name="description" content="RestComm is a carrier-grade open source platform that provides developers the tools to integrate fax, voice, and SMS functionality in to their own applications with ease. RestComm is designed to have 100% compatibility with Twilio's APIs allowing easy porting between platforms. Furthermore, the RestComm platform is built on top of the industry leading Mobicents Sip Servlet Container and Mobicents Media Server providing the robustness and performance these platforms are already known to deliver."/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><div class="book"><div class="titlepage"><div><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.telestax.com" class="site_href"><strong>TeleStax.org</strong></a><a href="http://www.telestax.com/" class="doc_href"><strong>Community Documentation</strong></a></p><div><h1 class="title"><a id="d0e2"/>RestComm User Guide</h1></div><div><h2 class="subtitle">The Guide to the RestComm</h2></div><div><div class="authorgroup"><a id="sps-Author_Group"/><div class="author"><h3 class="author"><span class="firstname">Jean</span> <span class="surname">Deruelle</span></h3><code class="email">&lt;<a class="email" href="mailto:jean.deruelle@gmail.com">jean.deruelle@gmail.com</a>&gt;</code></div><div class="author"><h3 class="author"><span class="firstname">Thomas</span> <span class="surname">Quintana</span></h3><code class="email">&lt;<a class="email" href="mailto:quintana.thomas@gmail.com">quintana.thomas@gmail.com</a>&gt;</code></div><div class="author"><h3 class="author"><span class="firstname">Charles</span> <span class="surname">Roufay</span></h3><code class="email">&lt;<a class="email" href="mailto:charles.roufay@telestax.com">charles.roufay@telestax.com</a>&gt;</code></div><div class="author"><h3 class="author"><span class="firstname">George</span> <span class="surname">Vagenas</span></h3><code class="email">&lt;<a class="email" href="mailto:gvagenas@telestax.com">gvagenas@telestax.com</a>&gt;</code></div></div></div><div><p class="copyright">Copyright © 2011
		 Telestax, Inc
		</p></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><p>
			RestComm is a carrier-grade open source platform that provides developers the tools
			to integrate fax, voice, and SMS functionality in to their own applications with ease. RestComm
			is designed to have 100% compatibility with Twilio's APIs allowing easy porting between
			platforms.
			
			Furthermore, the RestComm platform is built on top of the industry leading Mobicents
			Sip Servlet Container and Mobicents Media Server providing the robustness and performance
			these platforms are already known to deliver.
		</p></div></div></div><hr/></div><div class="toc"><dl><dt><span class="preface"><a href="#d0e58">Preface</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e61">1. Document Conventions</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e71">1.1. Typographic Conventions</a></span></dt><dt><span class="section"><a href="#d0e296">1.2. Pull-quote Conventions</a></span></dt><dt><span class="section"><a href="#d0e315">1.3. Notes and Warnings</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#d0e336">1. Introduction to RestComm</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e343">1.1. How it Works</a></span></dt></dl></dd><dt><span class="chapter"><a href="#d0e378">2. Getting Started and General Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e381">2.1. Quick Start Guide</a></span></dt><dt><span class="section"><a href="#change-default-login">2.2. Login into Restcomm and Changing the Default Password</a></span></dt><dt><span class="section"><a href="#d0e587">2.3. Testing the Demo Applications</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e595">2.3.1. Demo 1 - Testing the Play Verb</a></span></dt><dt><span class="section"><a href="#d0e1005">2.3.2. Detailed Configuration</a></span></dt><dt><span class="section"><a href="#d0e1016">2.3.3. Runtime Settings</a></span></dt><dt><span class="section"><a href="#d0e1179">2.3.4. VoIP Innovations Restful API Access</a></span></dt><dt><span class="section"><a href="#d0e1217">2.3.5. Dao Manager</a></span></dt><dt><span class="section"><a href="#d0e1252">2.3.6. Media Server Manager</a></span></dt><dt><span class="section"><a href="#d0e1300">2.3.7. SMS Aggregator</a></span></dt><dt><span class="section"><a href="#d0e1338">2.3.8. Fax Service</a></span></dt><dt><span class="section"><a href="#d0e1374">2.3.9. Speech Recognizer</a></span></dt><dt><span class="section"><a href="#d0e1405">2.3.10. Speech Synthesizer</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#d0e1448">3. RestComm Markup Language</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1453">3.1. RestComm Request</a></span></dt><dt><span class="section"><a href="#d0e1519">3.2. Your Response</a></span></dt><dt><span class="section"><a href="#d0e1550">3.3. Say</a></span></dt><dt><span class="section"><a href="#d0e1633">3.4. Play</a></span></dt><dt><span class="section"><a href="#d0e1711">3.5. Gather</a></span></dt><dt><span class="section"><a href="#d0e1822">3.6. Record</a></span></dt><dt><span class="section"><a href="#d0e2012">3.7. Fax</a></span></dt><dt><span class="section"><a href="#d0e2151">3.8. Sms</a></span></dt><dt><span class="section"><a href="#d0e2276">3.9. Dial</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2467">3.9.1. Number</a></span></dt><dt><span class="section"><a href="#d0e2519">3.9.2. Client</a></span></dt><dt><span class="section"><a href="#d0e2531">3.9.3. Conference</a></span></dt><dt><span class="section"><a href="#d0e2648">3.9.4. Sip</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e2847">3.10. Hangup</a></span></dt><dt><span class="section"><a href="#d0e2864">3.11. Redirect</a></span></dt><dt><span class="section"><a href="#d0e2909">3.12. Reject</a></span></dt><dt><span class="section"><a href="#d0e2954">3.13. Pause</a></span></dt><dt><span class="section"><a href="#d0e2999">3.14. UssdCollect</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3011">3.14.1. UssdMessage</a></span></dt><dt><span class="section"><a href="#d0e3033">3.14.2. Language</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#restful-api">4. Restful APIs</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3096">4.1. Accounts</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3154">4.1.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e3228">4.1.2. Account List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3298">4.2. AvailablePhoneNumbers</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3371">4.2.1. Supported Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3409">4.3. Gateways</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3467">4.3.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e3506">4.3.2. Examples</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3529">4.4. Clients</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3649">4.4.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e3730">4.4.2. Client List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3851">4.5. IncomingPhoneNumbers</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3974">4.5.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4070">4.5.2. IncomingPhoneNumber List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4197">4.6. Calls</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4315">4.6.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4323">4.6.2. Call List Resource</a></span></dt><dt><span class="section"><a href="#d0e4331">4.6.3. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4440">4.6.4. REST API: Modifying Live Calls</a></span></dt><dt><span class="section"><a href="#d0e4536">4.6.5. List Filter</a></span></dt><dt><span class="section"><a href="#d0e4593">4.6.6. Paging Information</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4698">4.7. SMS Messages</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4781">4.7.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4789">4.7.2. SMS Message List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4892">4.8. Recordings</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4957">4.8.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4970">4.8.2. Recording List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5002">4.9. Transcriptions</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5070">4.9.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e5083">4.9.2. Transcription List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5099">4.10. Notifications</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5207">4.10.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e5215">4.10.2. Notification List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5231">4.11. OutboundProxy</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5241">4.11.1. Supported Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5263">4.12. OutboundProxy</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5273">4.12.1. Supported Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#ussdpush-api">4.13. UssdPush</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5305">4.13.1. Supported Operations</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#d0e5319">5. Restcomm Admin User Interface</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5328">5.1. Login Interface</a></span></dt><dt><span class="section"><a href="#d0e5340">5.2. Passwords, Sub Accounts Settings</a></span></dt><dt><span class="section"><a href="#d0e5396">5.3. Dashboard</a></span></dt><dt><span class="section"><a href="#d0e5454">5.4. Restcomm Numbers</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5500">5.4.1. Register Number</a></span></dt><dt><span class="section"><a href="#d0e5555">5.4.2. Edit Update Number</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5601">5.5. SIP Clients</a></span></dt><dt><span class="section"><a href="#d0e5657">5.6. Outgoing CallerId</a></span></dt><dt><span class="section"><a href="#d0e5662">5.7. Logs</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5667">5.7.1. Logs - Calls</a></span></dt><dt><span class="section"><a href="#d0e5675">5.7.2. Logs - Messages</a></span></dt><dt><span class="section"><a href="#d0e5683">5.7.3. Logs - Recordings</a></span></dt><dt><span class="section"><a href="#d0e5691">5.7.4. Logs - Transcriptions</a></span></dt><dt><span class="section"><a href="#d0e5701">5.7.5. Logs - Notifications</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#d0e5710">6. Restcomm Visual Designer</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5719">6.1. Getting Started</a></span></dt><dt><span class="section"><a href="#d0e5730">6.2. Voice Projects</a></span></dt><dt><span class="section"><a href="#d0e5747">6.3. USSD Projects</a></span></dt><dt><span class="section"><a href="#d0e5764">6.4. SMS Projects</a></span></dt><dt><span class="section"><a href="#d0e5781">6.5. Demo Application</a></span></dt></dl></dd><dt><span class="chapter"><a href="#advanced-examples">7. Advanced RestComm Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5823">7.1. Activating Text-to-Speech (TTS)</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5838">7.1.1. Say Verb</a></span></dt><dt><span class="section"><a href="#record-verb">7.1.2. Record Verb</a></span></dt><dt><span class="section"><a href="#d0e5904">7.1.3. Dial Verb and Client</a></span></dt><dt><span class="section"><a href="#d0e5957">7.1.4. Dial Verb and Uri</a></span></dt><dt><span class="section"><a href="#d0e5967">7.1.5. Dial Verb and Conference</a></span></dt><dt><span class="section"><a href="#d0e5977">7.1.6. Gather Verb</a></span></dt></dl></dd></dl></dd></dl></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a id="d0e58"/>Preface</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e61"/>1. Document Conventions</h2></div></div></div><p>
		This manual uses several conventions to highlight certain words
		and phrases and draw attention to specific pieces of information.
	</p><p>
		In PDF and paper editions, this manual uses typefaces drawn from the
		<a class="ulink" href="https://fedorahosted.org/liberation-fonts/">Liberation Fonts</a>
		set. The Liberation Fonts set is also used in HTML editions if the set
		is installed on your system. If not, alternative but equivalent
		typefaces are displayed. Note: Red Hat Enterprise Linux 5 and later
		includes the Liberation Fonts set by default.
	</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e71"/>1.1. Typographic Conventions</h3></div></div></div><p>
			Four typographic conventions are used to call attention to
			specific words and phrases. These conventions, and the circumstances
			they apply to, are as follows.
		</p><p>
			<code class="literal">Mono-spaced Bold</code>
		</p><p>
			Used to highlight system input, including shell commands, file
			names and paths. Also used to highlight key caps and
			key-combinations. For example:
		</p><div class="blockquote"><blockquote class="blockquote"><p>
				To see the contents of the file
				<code class="filename">my_next_bestselling_novel</code>
				in your current working directory, enter the
				<span class="command"><strong>cat my_next_bestselling_novel</strong></span>
				command at the shell prompt and press
				<span class="keycap"><strong>Enter</strong></span>
				to execute the command.
			</p></blockquote></div><p>
			The above includes a file name, a shell command and a key cap,
			all presented in Mono-spaced Bold and all distinguishable thanks to
			context.
		</p><p>
			Key-combinations can be distinguished from key caps by the
			hyphen connecting each part of a key-combination. For example:
		</p><div class="blockquote"><blockquote class="blockquote"><p>
				Press
				<span class="keycap"><strong>Enter</strong></span>
				to execute the command.
			</p><p>
				Press
				<span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>
				to switch to the first virtual terminal. Press
				<span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F7</strong></span>
				to return to your X-Windows session.
			</p></blockquote></div><p>
			The first sentence highlights the particular key cap to press.
			The second highlights two sets of three key caps, each set pressed
			simultaneously.
		</p><p>
			If source code is discussed, class names, methods, functions,
			variable names and returned values mentioned within a paragraph will
			be presented as above, in
			<code class="literal">Mono-spaced Bold</code>
			. For example:
		</p><div class="blockquote"><blockquote class="blockquote"><p>
				File-related classes include
				<code class="classname">filesystem</code>
				for file systems,
				<code class="classname">file</code>
				for files, and
				<code class="classname">dir</code>
				for directories. Each class has its own associated set of
				permissions.
			</p></blockquote></div><p>
			<span class="application">Proportional Bold</span>
		</p><p>
			This denotes words or phrases encountered on a system, including
			application names; dialogue box text; labelled buttons; check-box and
			radio button labels; menu titles and sub-menu titles. For example:
		</p><div class="blockquote"><blockquote class="blockquote"><p>
				Choose
				<span class="guimenu">System &gt; Preferences &gt; Mouse</span>
				from the main menu bar to launch
				<span class="application">Mouse Preferences</span>
				. In the
				<span class="guilabel">Buttons</span>
				tab, click the
				<span class="guilabel">Left-handed mouse</span>
				check box and click
				<span class="guibutton">Close</span>
				to switch the primary mouse button from the left to the right
				(making the mouse suitable for use in the left hand).
			</p><p>
				To insert a special character into a
				<span class="application">gedit</span>
				file, choose
				<span class="guimenu">Applications &gt; Accessories &gt; Character Map</span>
				from the main menu bar. Next, choose
				<span class="guimenu">Search &gt; Find…</span>
				from the
				<span class="application">Character Map</span>
				menu bar, type the name of the character in the
				<span class="guilabel">Search</span>
				field and click
				<span class="guibutton">Next</span>
				. The character you sought will be highlighted in the
				<span class="guilabel">Character Table</span>
				. Double-click this highlighted character to place it in the
				<span class="guilabel">Text to copy</span>
				field and then click the
				<span class="guibutton">Copy</span>
				button. Now switch back to your document and choose
				<span class="guimenu">Edit &gt; Paste</span>
				from the
				<span class="application">gedit</span>
				menu bar.
			</p></blockquote></div><p>
			The above text includes application names; system-wide menu
			names and items; application-specific menu names; and buttons and
			text found within a GUI interface, all presented in Proportional Bold
			and all distinguishable by context.
		</p><p>
			Note the
			<span class="guimenu">&gt;</span>
			shorthand used to indicate traversal through a menu and its
			sub-menus. This is to avoid the difficult-to-follow 'Select
			<span class="guimenuitem">Mouse</span>
			from the
			<span class="guimenu">Preferences</span>
			sub-menu in the
			<span class="guimenu">System</span>
			menu of the main menu bar' approach.
		</p><p>
			<span class="command"><strong>
				<em class="replaceable"><code>Mono-spaced Bold Italic</code></em>
			</strong></span>
			or
			<span class="application">
				<em class="replaceable"><code>Proportional Bold Italic</code></em>
			</span>
		</p><p>
			Whether Mono-spaced Bold or Proportional Bold, the addition of
			Italics indicates replaceable or variable text. Italics denotes text
			you do not input literally or displayed text that changes depending
			on circumstance. For example:
		</p><div class="blockquote"><blockquote class="blockquote"><p>
				To connect to a remote machine using ssh, type
				<span class="command"><strong>
					ssh
					<em class="replaceable"><code>username</code></em>
					@
					<em class="replaceable"><code>domain.name</code></em>
				</strong></span>
				at a shell prompt. If the remote machine is
				<code class="filename">example.com</code>
				and your username on that machine is john, type
				<span class="command"><strong>ssh john@example.com</strong></span>
				.
			</p><p>
				The
				<span class="command"><strong>
					mount -o remount
					<em class="replaceable"><code>file-system</code></em>
				</strong></span>
				command remounts the named file system. For example, to remount the
				<code class="filename">/home</code>
				file system, the command is
				<span class="command"><strong>mount -o remount /home</strong></span>
				.
			</p><p>
				To see the version of a currently installed package, use the
				<span class="command"><strong>
					rpm -q
					<em class="replaceable"><code>package</code></em>
				</strong></span>
				command. It will return a result as follows:
				<span class="command"><strong>
					<em class="replaceable"><code>package-version-release</code></em>
				</strong></span>
				.
			</p></blockquote></div><p>
			Note the words in bold italics above — username,
			domain.name, file-system, package, version and release. Each word is
			a placeholder, either for text you enter when issuing a command or
			for text displayed by the system.
		</p><p>
			Aside from standard usage for presenting the title of a work,
			italics denotes the first use of a new and important term. For
			example:
		</p><div class="blockquote"><blockquote class="blockquote"><p>
				When the Apache HTTP Server accepts requests, it dispatches child
				processes or threads to handle them. This group of child processes
				or threads is known as a
				<em class="firstterm">server-pool</em>
				. Under Apache HTTP Server 2.0, the responsibility for creating and
				maintaining these server-pools has been abstracted to a group of
				modules called
				<em class="firstterm">Multi-Processing Modules</em>
				(
				<em class="firstterm">MPMs</em>
				). Unlike other modules, only one module from the MPM group can be
				loaded by the Apache HTTP Server.
			</p></blockquote></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e296"/>1.2. Pull-quote Conventions</h3></div></div></div><p>
			Two, commonly multi-line, data types are set off visually from
			the surrounding text.
		</p><p>
			Output sent to a terminal is set in
			<code class="computeroutput">Mono-spaced Roman</code>
			and presented thus:
		</p><pre class="screen">
books        Desktop   documentation  drafts  mss    photos   stuff  svn
books_tests  Desktop1  downloads      images  notes  scripts  svgs
</pre><p>
			Source-code listings are also set in
			<code class="computeroutput">Mono-spaced Roman</code>
			but are presented and highlighted as follows:
		</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">jboss</span><span class="java_separator">.</span><span class="java_plain">book</span><span class="java_separator">.</span><span class="java_plain">jca</span><span class="java_separator">.</span><span class="java_plain">ex1</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">naming</span><span class="java_separator">.</span><span class="java_type">InitialContext</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">ExClient</span>
<!--  --><br/><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;main</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;args</span><span class="java_separator">[])</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">Exception</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">InitialContext</span><span class="java_plain">&nbsp;iniCtx&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">InitialContext</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Object</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ref&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;iniCtx</span><span class="java_separator">.</span><span class="java_plain">lookup</span><span class="java_separator">(</span><span class="java_literal">&quot;EchoBean&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">EchoHome</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;home&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_type">EchoHome</span><span class="java_separator">)</span><span class="java_plain">&nbsp;ref</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Echo</span><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&nbsp;&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;home</span><span class="java_separator">.</span><span class="java_plain">create</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">System</span><span class="java_separator">.</span><span class="java_plain">out</span><span class="java_separator">.</span><span class="java_plain">println</span><span class="java_separator">(</span><span class="java_literal">&quot;Created&nbsp;Echo&quot;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">System</span><span class="java_separator">.</span><span class="java_plain">out</span><span class="java_separator">.</span><span class="java_plain">println</span><span class="java_separator">(</span><span class="java_literal">&quot;Echo.echo('Hello')&nbsp;=&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;echo</span><span class="java_separator">.</span><span class="java_plain">echo</span><span class="java_separator">(</span><span class="java_literal">&quot;Hello&quot;</span><span class="java_separator">));</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_separator">}</span>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e315"/>1.3. Notes and Warnings</h3></div></div></div><p>
			Finally, we use three visual styles to draw attention to
			information that might otherwise be overlooked.
		</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>
				A note is a tip or shortcut or alternative approach to the task
				at hand. Ignoring a note should have no negative consequences, but
				you might miss out on a trick that makes your life easier.
			</p></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2><p>
				Important boxes detail things that are easily missed:
				configuration changes that only apply to the current session, or
				services that need restarting before an update will apply. Ignoring
				Important boxes won't cause data loss but may cause irritation
				and frustration.
			</p></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2><p>
				A Warning should not be ignored. Ignoring warnings will most
				likely cause data loss.
			</p></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="d0e336"/>Chapter 1. Introduction to RestComm</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e343">1.1. How it Works</a></span></dt></dl></div><p>RestComm is a turnkey Cloud Communications platform based on Open Source building blocks from the team behind Mobicents. Restcomm offers a clean room implementation of the Twilio.com APIs and much more.

	</p><p>
Restcomm can be integrated with VoIP and legacy SS7 network providers either in the cloud or via on-premise Resource Adaptors.
	</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e343"/>1.1. How it Works</h2></div></div></div><p>In order to demonstrate how RestComm works we will go over an application that
		instructs RestComm to answer a phone call, say "Hello World" and finally hang up the
		call.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>A more thorough explanation of the RestComm Markup Language is available in Chapter 3. RestComm
		    Markup Language</p></div><p>In this particular example, the first thing that must happen is that TelScale RestComm receives a call.</p><div class="mediaobject"><img src="images/restcomm-inbound-1.png"/></div><p>After TelScale RestComm can confirm that the call is destined for an application that it handles. 
		TelScale RestComm calls out to your application for instructions on how to handle the new incoming call.
		Keep in mind that when TelScale RestComm calls out to your application it provides useful information such
		as from what number the call was dialed, to what number the call is destined, caller ID information, etc.</p><div class="mediaobject"><img src="images/restcomm-inbound-2.png"/></div><p>Once your application responds with instructions on how to handle the call, TelScale RestComm gets busy executing the
		provided instruction set.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
		  &lt;Say&gt;Hello World!&lt;/Say&gt;
		&lt;/Response&gt;
		</pre><div class="mediaobject"><img src="images/restcomm-inbound-3.png"/></div><p>In this case TelScale RestComm synthesizes the text to speech, says "Hello World!" to the caller and hangs up.</p><div class="mediaobject"><img src="images/restcomm-inbound-4.png"/></div></div><p>Keep in mind that before you continue you should configure your ASR, Fax, SMS, and TTS plugins in order to have
	everything function as you would expect it to.</p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="d0e378"/>Chapter 2. Getting Started and General Configuration</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e381">2.1. Quick Start Guide</a></span></dt><dt><span class="section"><a href="#change-default-login">2.2. Login into Restcomm and Changing the Default Password</a></span></dt><dt><span class="section"><a href="#d0e587">2.3. Testing the Demo Applications</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e595">2.3.1. Demo 1 - Testing the Play Verb</a></span></dt><dt><span class="section"><a href="#d0e1005">2.3.2. Detailed Configuration</a></span></dt><dt><span class="section"><a href="#d0e1016">2.3.3. Runtime Settings</a></span></dt><dt><span class="section"><a href="#d0e1179">2.3.4. VoIP Innovations Restful API Access</a></span></dt><dt><span class="section"><a href="#d0e1217">2.3.5. Dao Manager</a></span></dt><dt><span class="section"><a href="#d0e1252">2.3.6. Media Server Manager</a></span></dt><dt><span class="section"><a href="#d0e1300">2.3.7. SMS Aggregator</a></span></dt><dt><span class="section"><a href="#d0e1338">2.3.8. Fax Service</a></span></dt><dt><span class="section"><a href="#d0e1374">2.3.9. Speech Recognizer</a></span></dt><dt><span class="section"><a href="#d0e1405">2.3.10. Speech Synthesizer</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e381"/>2.1. Quick Start Guide</h2></div></div></div><p>
RestComm is a robust, powerful platform that will facilitate building comprehensive real-time communication solutions. The steps below will help you get started with ease.
</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2><p>
On a production system, please take into consideration the following:
</p><p>
MMS can get into a bad state and report "Too many open files" error because of Linux default value on the total number of file descriptors.
</p><p>
You can go to the following sites to see how to increase the maximum number of open files in your server:
</p><p>
<a class="ulink" href="http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/">http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/</a>
</p><p>
<a class="ulink" href="http://amitbhayani.blogspot.fr/2010/01/javanetsocketexception-too-many-open.html">http://amitbhayani.blogspot.fr/2010/01/javanetsocketexception-too-many-open.html</a>
</p><p>

</p></div><div class="itemizedlist"><p class="title"><strong>Running RestComm on JBoss</strong></p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>JBoss Security</h2><p>
Running a secure application is dependent on multiple factors. Restcomm runs on JBoss which implies that system security implemention can be handled at JBoss level. Please see the link below on how you can make your server environment more secure. <a class="ulink" href="https://community.jboss.org/wiki/SecureJboss?_sscc=t">https://community.jboss.org/wiki/SecureJboss?_sscc=t</a>
</p></div><ul class="itemizedlist" type="opencircle"><li class="listitem"><p>
Download <code class="filename"> TelScale-Restcomm-JBoss-AS7-XX.XX.GA.zip </code>
</p></li><li class="listitem"><p>
Using a terminal of your choice, extract the content of <code class="filename"> TelScale-Restcomm-XX.XX.GA.zip </code> to a local directory on your computer. The root directoy into which you extract the content of the .zip file will be referred to as $RESTCOMM_HOME.
</p></li><li class="listitem"><p>
Go to <code class="filename">$RESTCOMM_HOME/telscale-media/telscale-media-server/bin </code>
</p></li><li class="listitem"><p>
change the permission of the <code class="filename">run.sh</code> as follows
</p></li><li class="listitem"><p>
sudo chmod +x ./run.sh
</p></li><li class="listitem"><p>
then start the TelScale Media Server as follows
</p></li><li class="listitem"><p>
sudo ./run.sh
</p></li><li class="listitem"><p>
If all is correctly started you will see the following at the end of the bash terminal window
</p><pre class="screen">
[MainDeployer] [[[[[[[[[ Mobicents Media Server: release.version=3.0.0.FINAL Started ]]]]]]]]]
</pre><p>
</p></li><li class="listitem"><p>
Open another terminal and proceed as follows:
</p></li><li class="listitem"><p>
Go to <code class="filename">$RESTCOMM_HOME/bin </code>
</p></li><li class="listitem"><p>
change the permissions of all the <code class="filename">.sh</code> files in the bin directory as follows
</p></li><li class="listitem"><p>
<code class="filename">sudo chmod +x ./*.sh </code>
</p></li><li class="listitem"><p>
Start RestComm by running the following command
</p></li><li class="listitem"><p>
<code class="filename">sudo ./standalone.sh -c standalone-sip.xml</code>
</p></li><li class="listitem"><p>
If RestComm is correctly started you will see the following at the end of the terminal
</p><pre class="screen">
INFO  [Version] TelScale Sip Servlets 6.1.3.GA-TelScale (build: Git Hash=r8947f2732ee64c76566ed6c0b236204c048538e1 date=201306131639) Started.
17:30:05,854 INFO  [Version] 
==============================================================================
==                                                                          ==
==                      Thank you for running TelScale                      ==
==    Carrier Grade Communications Platform by the creators of Mobicents    ==
==                    Copyright 2011-2013 Telestax, Inc.                    ==
==                         http://www.telestax.com/                         ==
==                                                                          ==
==============================================================================

</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Running RestComm on Tomcat</strong></p><ul class="itemizedlist" type="opencircle"><li class="listitem"><p>
Download <code class="filename"> TelScale-Restcomm-Tomcat-XX.XX.GA.zip </code>
</p></li><li class="listitem"><p>
Using a terminal of your choice, extract the content of <code class="filename"> TelScale-Restcomm-Tomcat-XX.XX.GA.zip </code> to a local directory on your computer. The root directoy into which you extract the content of the .zip file will be referred to as $RESTCOMM_HOME.
</p></li><li class="listitem"><p>
Go to <code class="filename">$RESTCOMM_HOME/telscale-media/telscale-media-server/bin </code>
</p></li><li class="listitem"><p>
change the permission of the <code class="filename">run.sh</code> as follows
</p></li><li class="listitem"><p>
sudo chmod +x ./run.sh
</p></li><li class="listitem"><p>
then start the TelScale Media Server as follows
</p></li><li class="listitem"><p>
sudo ./run.sh
</p></li><li class="listitem"><p>
If all is correctly started you will see the following at the end of the bash terminal window
</p><pre class="screen">
[MainDeployer] [[[[[[[[[ Mobicents Media Server: release.version=3.0.0.FINAL Started ]]]]]]]]]
</pre><p>
</p></li><li class="listitem"><p>
Open another terminal and proceed as follows:
</p></li><li class="listitem"><p>
Go to <code class="filename">$RESTCOMM_HOME/bin </code>
</p></li><li class="listitem"><p>
change the permissions of all the <code class="filename">.sh</code> files in the bin directory as follows
</p></li><li class="listitem"><p>
<code class="filename">sudo chmod +x ./*.sh </code>
</p></li><li class="listitem"><p>The content of the bin directory should be similar to the list below</p><pre class="screen">
bootstrap.jar                 digest.sh             tomcat-juli.jar
catalina.bat                  setclasspath.bat      tomcat-native.tar.gz
catalina.sh                   setclasspath.sh       tool-wrapper.bat
catalina-tasks.xml            shutdown.bat          tool-wrapper.sh
commons-daemon.jar            shutdown.sh           version.bat
commons-daemon-native.tar.gz  startup.bat           version.sh
cpappend.bat                  startup.sh
digest.bat                    telestax-license.xml

</pre><p>
Start RestComm by running the following command
</p></li><li class="listitem"><p>
<code class="filename"> sudo ./catalina.sh run</code>
</p></li><li class="listitem"><p>If RestComm is correctly started on Tomcat, you will see an output similar to the one below </p><pre class="screen">
Started.
2013-08-15 19:02:46,903 INFO  [Version] (main) 
==============================================================================
==                                                                          ==
==                      Thank you for running TelScale                      ==
==    Carrier Grade Communications Platform by the creators of Mobicents    ==
==                    Copyright 2011-2013 Telestax, Inc.                    ==
==                         http://www.telestax.com/                         ==
==                                                                          ==
==============================================================================
Aug 15, 2013 7:02:50 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 14090 ms


</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="change-default-login"/>2.2. Login into Restcomm and Changing the Default Password</h2></div></div></div><p>
Before you start using Restcomm, you must change the default password. Please follow the steps below
</p><pre class="screen">
Open your browser and go to http://127.0.0.1:8080/restcomm-management

Enter the following information:
   - Email/Account SID = administrator@company.com
   - Password = RestComm
   - Press the  Login button

</pre><p>
You will see a screen similar to the one below
</p><div class="mediaobject" align="center"><img src="images/restcomm-version715-1.png" align="middle"/></div><p>
In the screen below, change the password and update.
</p><div class="mediaobject" align="center"><img src="images/restcomm-version715-2.png" align="middle"/></div><p>
Once the password has been changed, you can now log into the Admin Management interface and start using Restcomm.
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e587"/>2.3. Testing the Demo Applications</h2></div></div></div><p>
Restcomm comes prepackaged with multiple example applications designed to help you quickly get started. For more demos and configuration details please visit <a class="ulink" href="http://www.telestax.com/doc/">www.telestax.com/doc</a>
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e595"/>2.3.1. Demo 1 - Testing the Play Verb</h3></div><div><h3 class="title"><a id="d0e595"/>2.3.1. Demo 1 - Testing the Play Verb</h3></div></div></div><p>
Start a SIP phone (see below) and dial <code class="filename">1234@127.0.0.1:5080</code>. You will hear a welcome message.
</p><div class="mediaobject" align="center"><img src="images/RestComm-ekiga-sip-phone-demo.png" align="middle"/></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
Some SIP phones have codec incompatibility issues, in the above example, we used Ekiga. You may also try Jitsi or Sflphone. 
</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e610"/>2.3.1.1. Quick Start Guide</h4></div></div></div><p>
			RestComm is a robust, powerful platform that will facilitate building
			comprehensive real-time communication solutions. The steps below will
			help you get started with ease.
		</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2><p>
				On a production system, please take into consideration the following:
			</p><p>
				MMS can get into a bad state and report "Too many open files" error
				because of Linux default value on the total number of file
				descriptors.
			</p><p>
				You can go to the following sites to see how to increase the maximum
				number of open files in your server:
			</p><p>
				<a class="ulink" href="http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/">http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/</a>
			</p><p>
				<a class="ulink" href="http://amitbhayani.blogspot.fr/2010/01/javanetsocketexception-too-many-open.html">http://amitbhayani.blogspot.fr/2010/01/javanetsocketexception-too-many-open.html</a>
			</p><p>

			</p></div><div class="itemizedlist"><p class="title"><strong>Running RestComm on JBoss</strong></p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>JBoss Security</h2><p>
					Running a secure application is dependent on multiple factors.
					Restcomm runs on JBoss which implies that system security
					implemention can be handled at JBoss level. Please see the link
					below on how you can make your server environment more secure.
					<a class="ulink" href="https://community.jboss.org/wiki/SecureJboss?_sscc=t">https://community.jboss.org/wiki/SecureJboss?_sscc=t</a>
				</p></div><ul class="itemizedlist" type="opencircle"><li class="listitem"><p>
					Download
					<code class="filename"> TelScale-Restcomm-JBoss-AS7-XX.XX.GA.zip </code>
				</p></li><li class="listitem"><p>
					Using a terminal of your choice, extract the content of
					<code class="filename"> TelScale-Restcomm-XX.XX.GA.zip </code>
					to a local directory on your computer. The root directoy into which
					you extract the content of the .zip file will be referred to as
					$RESTCOMM_HOME.
				</p></li><li class="listitem"><p>
					Go to
					<code class="filename">$RESTCOMM_HOME/telscale-media/telscale-media-server/bin </code>
				</p></li><li class="listitem"><p>
					change the permission of the
					<code class="filename">run.sh</code>
					as follows
				</p></li><li class="listitem"><p>
					sudo chmod +x ./run.sh
				</p></li><li class="listitem"><p>
					then start the TelScale Media Server as follows
				</p></li><li class="listitem"><p>
					sudo ./run.sh
				</p></li><li class="listitem"><p>
					If all is correctly started you will see the following at the end
					of the bash terminal window
					</p><pre class="screen">
						[MainDeployer] [[[[[[[[[ Mobicents Media Server: release.version=3.0.0.FINAL
						Started ]]]]]]]]]
					</pre><p>
				</p></li><li class="listitem"><p>
					Open another terminal and proceed as follows:
				</p></li><li class="listitem"><p>
					Go to
					<code class="filename">$RESTCOMM_HOME/bin </code>
				</p></li><li class="listitem"><p>
					change the permissions of all the
					<code class="filename">.sh</code>
					files in the bin directory as follows
				</p></li><li class="listitem"><p>
					<code class="filename">sudo chmod +x ./*.sh </code>
				</p></li><li class="listitem"><p>
					Start RestComm by running the following command
				</p></li><li class="listitem"><p>
					<code class="filename">sudo ./standalone.sh -c standalone-sip.xml</code>
				</p></li><li class="listitem"><p>
					If RestComm is correctly started you will see the following at the
					end of the terminal
				</p><pre class="screen">
					INFO [Version] TelScale Sip Servlets 6.1.3.GA-TelScale (build: Git
					Hash=r8947f2732ee64c76566ed6c0b236204c048538e1 date=201306131639)
					Started.
					17:30:05,854 INFO [Version]
					==============================================================================
					== ==
					== Thank you for running TelScale ==
					== Carrier Grade Communications Platform by the creators of Mobicents
					==
					== Copyright 2011-2013 Telestax, Inc. ==
					== http://www.telestax.com/ ==
					== ==
					==============================================================================

				</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Running RestComm on Tomcat</strong></p><ul class="itemizedlist" type="opencircle"><li class="listitem"><p>
					Download
					<code class="filename"> TelScale-Restcomm-Tomcat-XX.XX.GA.zip </code>
				</p></li><li class="listitem"><p>
					Using a terminal of your choice, extract the content of
					<code class="filename"> TelScale-Restcomm-Tomcat-XX.XX.GA.zip </code>
					to a local directory on your computer. The root directoy into which
					you extract the content of the .zip file will be referred to as
					$RESTCOMM_HOME.
				</p></li><li class="listitem"><p>
					Go to
					<code class="filename">$RESTCOMM_HOME/telscale-media/telscale-media-server/bin </code>
				</p></li><li class="listitem"><p>
					change the permission of the
					<code class="filename">run.sh</code>
					as follows
				</p></li><li class="listitem"><p>
					sudo chmod +x ./run.sh
				</p></li><li class="listitem"><p>
					then start the TelScale Media Server as follows
				</p></li><li class="listitem"><p>
					sudo ./run.sh
				</p></li><li class="listitem"><p>
					If all is correctly started you will see the following at the end
					of the bash terminal window
					</p><pre class="screen">
						[MainDeployer] [[[[[[[[[ Mobicents Media Server: release.version=3.0.0.FINAL
						Started ]]]]]]]]]
					</pre><p>
				</p></li><li class="listitem"><p>
					Open another terminal and proceed as follows:
				</p></li><li class="listitem"><p>
					Go to
					<code class="filename">$RESTCOMM_HOME/bin </code>
				</p></li><li class="listitem"><p>
					change the permissions of all the
					<code class="filename">.sh</code>
					files in the bin directory as follows
				</p></li><li class="listitem"><p>
					<code class="filename">sudo chmod +x ./*.sh </code>
				</p></li><li class="listitem"><p>The content of the bin directory should be similar to the list
					below</p><pre class="screen">
					bootstrap.jar digest.sh tomcat-juli.jar
					catalina.bat setclasspath.bat tomcat-native.tar.gz
					catalina.sh setclasspath.sh tool-wrapper.bat
					catalina-tasks.xml shutdown.bat tool-wrapper.sh
					commons-daemon.jar shutdown.sh version.bat
					commons-daemon-native.tar.gz startup.bat version.sh
					cpappend.bat startup.sh
					digest.bat telestax-license.xml

				</pre><p>
					Start RestComm by running the following command
				</p></li><li class="listitem"><p>
					<code class="filename"> sudo ./catalina.sh run</code>
				</p></li><li class="listitem"><p>If RestComm is correctly started on Tomcat, you will see an
					output similar to the one below </p><pre class="screen">
					Started.
					2013-08-15 19:02:46,903 INFO [Version] (main)
					==============================================================================
					== ==
					== Thank you for running TelScale ==
					== Carrier Grade Communications Platform by the creators of Mobicents
					==
					== Copyright 2011-2013 Telestax, Inc. ==
					== http://www.telestax.com/ ==
					== ==
					==============================================================================
					Aug 15, 2013 7:02:50 PM org.apache.catalina.startup.Catalina start
					INFO: Server startup in 14090 ms


				</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e797"/>2.3.1.2. Testing the Demo Applications</h4></div></div></div><p>
			Restcomm comes prepackaged with multiple example applications designed to
			help you quickly get started.
		</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e802"/>2.3.1.2.1. Demo 1 - Testing the Play Verb</h5></div></div></div><p>
				Start a SIP phone (see below) and dial
				<code class="filename">1234@127.0.0.1:5080</code>
				. You will hear a welcome message.
			</p><div class="mediaobject" align="center"><img src="images/RestComm-ekiga-sip-phone-demo.png" align="middle"/></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
				Some SIP phones have codec incompatibility issues, in the above example,
				we used Ekiga. You may also try Jitsi or Sflphone.
			</div><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


The application bound to the number 1234 can be found at
 &lt;filename&gt;$RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/hello-play.xml&lt;/filename&gt;.

			</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e817"/>2.3.1.2.2. Demo 2 - Testing Say Verb</h5></div></div></div><p>
				You must first activate Text-to-Speech before you can proceed.
			</p><p>
				You must get an API key from
				<a class="ulink" href="http://www.voicerss.org/">http://www.voicerss.org</a>
				in order to proceed with this section. You can register for a free
				account and an API key will be emailed to you. Once you have the API
				key, open the
				<code class="filename">$RESTCOMM_HOME/standalone/deployments/restcomm.war/WEB-INF/conf/restcomm.xml</code>
				file and find the speech-synthesizer VoiceRSS section. Add your API
				key as shown below and restart RestComm
			</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;speech-synthesizer
		class="org.mobicents.servlet.restcomm.tts.VoiceRSSSpeechSynthesizer"&gt;
		&lt;service-root&gt;http://api.voicerss.org&lt;/service-root&gt;
		&lt;apikey&gt;2901c0aXXXXXXXXXXXXXX&lt;/apikey&gt;

			</pre><p>
				Start a SIP phone dial
				<code class="filename">1235@127.0.0.1:5080</code>
				. You will hear a welcome message in multiple languages.
			</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

The application bound to the number 1235 can be found at
 $RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/hello-world.xml.

			</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e839"/>2.3.1.2.3. Demo 3 - Testing Gather Verb</h5></div></div></div><p>This demo creates a simple IVR system</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Activate DTMF using Ekiga </h2><p>Make sure your DTMF setting in Ekiga is set to RFC2833. In
					order to set it correctly, go to the menu
					Edit-&gt;Preference-&gt;Protocols-&gt;SIP Settings-&gt;DTMF Mode </p><p>You may also use SFLPHONE instead of Ekiga</p></div><p>
				Start a SIP phone dial
				<code class="filename">1236@127.0.0.1:5080</code>
				. You will hear a message asking you to enter a digit and press
				star. If the digit is correctly received, Restcomm will replay the
				number you entered.
			</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

The application bound to the number 1236 can be found at 
&lt;filename&gt;$RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/gather/hello-gather.xml&lt;/filename&gt;.
and 
&lt;filename&gt;$RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/gather/gather.jsp&lt;/filename&gt;.

			</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e858"/>2.3.1.2.4. Demo 4 - Testing the Dial Sip Noun</h5></div></div></div><p>
				This demo makes a call from one SIP phone to another. The Demo uses
				the SIP noun. You can calll any SIP account. All you have to do is
				change the content of the
				<code class="filename">dial-sip.xml</code>
			</p><p>
				In order to use this demo, you may use the default accounts, Alice and
				Bob, and register them on two separate SIP phones. Start both SIP
				phones and make sure Alice and Bob are registerd with the password
				(1234). These users come pre-configured with Restcomm for test
				purposes.
			</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Start Two SIP Phone Sessions </h2><p>If you are using the SIP sflphone here is what to do:  </p><p>Start first instance ex. - sflphone </p><p>Start second instance ex. - sudo sflphone </p></div><p>
				In the application
				<code class="filename">dial-sip.xml</code>
				you can change the default to
				<code class="filename">sip:alice@127.0.0.1:5061?</code>
			</p><p>
				This will allow you to make a call to Alice. Note that Alice must be
				registered on port 5061 for the call to succeed.
			</p><p>
				From the the phone on which Bob is registerd, dial the number
				<code class="filename">1237</code>
				. The phone on which Alice is registered will ring and the
				connection will be made when you answer the call.
			</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

The application bound to the number 1237 can be found at 
$RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/dial/sip/dial-sip.xml.


			</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e894"/>2.3.1.2.5. Demo 5 - Testing the Client Noun</h5></div></div></div><p>This demo makes a call from one SIP Client to Another. The demo
				uses the Client noun</p><p>
				In order to use this demo, you must have user Alice and Bob registered
				on two separate SIP phones. Start both SIP phones and make sure
				Alice and Bob are registerd with the password (1234). These users
				come pre-configured with Restcomm for test purposes.
			</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Start Two SIP Phone Sessions </h2><p>
					You can start the second instance of your SIP phones by prepending
					the executable with
					<code class="filename">sudo</code>
					. If you are using the SIP sflphone here is what to do:
				</p><p>Start first instance ex. - sflphone </p><p>Start second instance ex. - sudo sflphone </p></div><p>
				From the phone on which Bob is registerd, dial the number
				<code class="filename">1238</code>
				. The phone on which Alice is registered will ring and the
				connection will be made when you answer the call.
			</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

The application bound to the number 1238 can be found at 
&lt;filename&gt;$RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/dial/client/dial-client.xml&lt;/filename&gt;.


			</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Advanced Examples</h2><p>
					Please go to this chapter for more examples
					<a class="xref" href="#advanced-examples" title="Chapter 7. Advanced RestComm Examples">Chapter 7, <em>Advanced RestComm Examples</em></a>
					.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e927"/>2.3.1.2.6. Demo 6 - Testing Conference Noun </h5></div></div></div><p>
				This demo Lets a user join a conference as a moderator and the other
				user as a participant. The participant will dial
				<code class="filename">1310</code>
				and will hear a hold music. The moderator will dial
				<code class="filename">1311</code>
				and the hold music will stop and the conference will be started.
			</p><p>
				Most SIP phones will require you to register before you can make a call.
				You can use the default accounts, Alice and Bob with password
				(1234)to register.
			</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Start Two SIP Phone Sessions </h2><p>
					You can start the second instance of your SIP phones by prepending
					the executable with
					<code class="filename">sudo</code>
					. If you are using the SIP sflphone here is what to do:
				</p><p>Start first instance ex. - sflphone </p><p>Start second instance ex. - sudo sflphone </p></div><p>
				From the phone on which Bob is registerd, dial the number
				<code class="filename">1310</code>
				. From the phone on which Alice is registered, dial
				<code class="filename">1311</code>
			</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

The application is bound to the number 1310 and 1311 can be found at 

http://127.0.0.1:8080/restcomm/demos/dial/conference/dial-conference.xml

and at

http://127.0.0.1:8080/restcomm/demos/dial/conference/dial-conference-moderator.xml


			</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Advanced Examples</h2><p>
					Please go to this chapter for more examples
					<a class="xref" href="#advanced-examples" title="Chapter 7. Advanced RestComm Examples">Chapter 7, <em>Advanced RestComm Examples</em></a>
					.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e969"/>2.3.1.2.7. Demo 7 - RVD Say Verb</h5></div></div></div><p>
This example is built using the Restcomm Visual Designer. You can register a SIP phone with the user bob or alice and password (1234). Then dial <code class="filename">1239</code>. You will hear a welcome message. 
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

The application is bound to the number 1239. The link to the rvdSayVerbDemo is below:

http://127.0.0.1:8080/restcomm-rvd/#/designer/rvdSayVerbDemo

All project created with Restcomm Visual Designer are stored in the directory:

$RESTCOMM_HOME/standalone/deployments/restcomm-rvd.war/workspace


</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e979"/>2.3.1.2.8. Demo 8 - RVD Gather Verb</h5></div></div></div><p>
This demo uses the Gather verb to get user input and map it to the corresponding modules. You can register a SIP phone with the user bob or alice and password (1234). Then, dial <code class="filename">1240</code>. You will hear a welcome message asking you to press 1 for Sales or 2 for Technical Support. 
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

The application is bound to the number 1240. The link to the rvdSayVerbDemo is below:

http://127.0.0.1:8080/restcomm-rvd/#/designer/rvdCollectVerbDemo

All project created with Restcomm Visual Designer are stored in the directory:

$RESTCOMM_HOME/standalone/deployments/restcomm-rvd.war/workspace


</pre></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="d0e989"/>2.3.1.2.9. Demo 9 - RVD External Services</h5></div></div></div><p>
This demo uses the External Services to Restcomm to an external program for more complex solutions. There are two parts to this demo application, the RVD app and the external servlet <code class="filename">http://127.0.0.1:8080/RvdExternalServicesDemo/rvdESdemo</code> which manages the logic. You can register a SIP phone with the user bob or alice and password (1234). Then, dial <code class="filename">1241</code>. You will be asked to enter a customer ID. You can enter number <code class="filename">11 or 12</code>. You will hear a corresponding welcome message depending on the customer ID you entered.
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
	
	The application is bound to the number 1241. The link to the rvdSayVerbDemo is below:

	http://127.0.0.1:8080/restcomm-rvd/#/designer/rvdESDemo

	All project created with Restcomm Visual Designer are stored in the directory:

	$RESTCOMM_HOME/standalone/deployments/restcomm-rvd.war/workspace

	The RvdExternalServicesDemo.war file is deployed in the directory $RESTCOMM_HOME/standalone/deployments/ 

	
</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1005"/>2.3.2. Detailed Configuration</h3></div></div></div><p>
			In order for TelScale RestComm to function properly it must first be
			configured. In this chapter we will cover
			the settings for TelScale RestComm and it's respective plug-ins. In
			order to make TelScale RestComm easy to manage
			all of the configuration is done in only one file. The file is located
			at
			<code class="filename">RESTCOMM_HOME/WEB-INF/webapps/restcomm/conf/restcomm.xml</code>
			and is composed of the sections that follow.
		</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>TelScale RestComm provides a default set of plug-ins for the
				storage engine, fax service, SMS aggregator,
				automatic speech recognition, and speech synthesis. All these services are
				pluggable and TelScale RestComm is not
				limited to any service provider or software platformz.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1016"/>2.3.3. Runtime Settings</h3></div></div></div><p>
				The runtime-settings are used by TelScale RestComm at runtime to
				customize it's behavior. A list of the runtime settings
				and a description is provided below.
			</p><div class="table"><a id="d0e1021"/><p class="title"><strong>Table 2.1. Runtime Settings</strong></p><div class="table-contents"><table summary="Runtime Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">api-version</td><td align="left">The version of the TelScale RestComm API that we will be
								executing by default.</td></tr><tr><td align="left">prompts-uri</td><td align="left">The location where the audio prompts are located.</td></tr><tr><td align="left">cache-path</td><td align="left">The local path the cache folder.</td></tr><tr><td align="left">cache-uri</td><td align="left">The HTTP URI to the cache folder.</td></tr><tr><td align="left">recordings-path</td><td align="left">The local path to the folder containing the recordings.</td></tr><tr><td align="left">recordings-uri</td><td align="left">The HTTP URI to the folder containing the recordings.</td></tr><tr><td align="left">error-dictionary-uri</td><td align="left">The HTTP URI to the TelScale RestComm error dictionary.</td></tr><tr><td align="left">external-ip</td><td align="left">
								The IP to use for out-bound SIP REGISTER requests. This is useful
								when you
								want to report a different IP than the one TelScale RestComm picked
								by default.
							</td></tr><tr><td align="left">use-to</td><td align="left">
								If set to true TelScale RestComm will use the To header to
								determine the destination.
								If set to false TelScale RestComm will use the Request URI to
								determine the destination.
							</td></tr><tr><td align="left">outbound-proxy-user</td><td align="left">
								The user name used to authenticate with the outbound proxy.
								(Optional)
							</td></tr><tr><td align="left">outbound-proxy-password</td><td align="left">
								The password used to authenticated with the outbound proxy.
								(Optional)
							</td></tr><tr><td align="left">outbound-proxy-uri</td><td align="left">
								The SIP URI to the outbound proxy. Note: Do not prepend 'sip:' to
								the proxy uri.
								If necessary the port can be included, for example
								alice@localhost:5080
							</td></tr><tr><td align="left">fallback-outbound-proxy-user</td><td align="left">
								The user name used to authenticate with the fallback outbound proxy.
								(Optional)
							</td></tr><tr><td align="left">fallback-outbound-proxy-password</td><td align="left">
								The password used to authenticated with the fallback outbound proxy.
								(Optional)
							</td></tr><tr><td align="left">fallback-outbound-proxy-uri</td><td align="left">
								The SIP URI to the fallback outbound proxy. Note: Do not prepend 'sip:' to
								the proxy uri.
								If necessary the port can be included, for example
								alice@localhost:5080
							</td></tr><tr><td align="left">allow-fallback</td><td align="left">
								Set this to true so Restcomm will fallback to the backup proxy in
								case of failed calls
							</td></tr><tr><td align="left">max-failed-calls</td><td align="left">
								Maximum number of failed call before switching from primary to fallback
								outbound proxy
							</td></tr><tr><td align="left">allow-fallback-to-primary</td><td align="left">
								Allow fallback from Backup to Primary proxy in case fail called at
								backup proxy.
							</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>TelScale Restcomm Resource Security. </strong>The security model is based on role based access control.
					TelScale RestComm defines a set of permissions
					that can be defined for each role. There are two predefined roles
					Administrator and Developer. The Developer role
					can be configured or removed all together depending on your needs but
					the Administrator role can not be changed.
					The Administrator role can not be modified or removed and it has
					access to every resource.</p><p>First we will define the list of permissions and what they
				mean.</p><div class="table"><a id="d0e1131"/><p class="title"><strong>Table 2.2. TelScale RestComm Permissions</strong></p><div class="table-contents"><table summary="TelScale RestComm Permissions" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Permission</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Create</td><td align="left">The role has access to create a type resource.</td></tr><tr><td align="left">Read</td><td align="left">The role has access to read a type of resource.</td></tr><tr><td align="left">Modify</td><td align="left">The role has access to modify a type of resource.</td></tr><tr><td align="left">Delete</td><td align="left">The role has access to delete a type of resource.</td></tr></tbody></table></div></div><br class="table-break"/><p>These permissions apply to every resource exposed by the
				Restful APIs. Once a role is defined it can
				be specified for new Account resources that are created.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>If no role is specified when creating a new Account resource
					then the new Account will inherit
					the security role of the account that created it. If this role is the
					Administrator role the system
					may become compromised.</p></div><p><strong>Wildcard Permission. </strong>The asterisk '*' is a wildcard that means grant all
					permissions and can be used in place of
					typing out all the permissions.</p><p>
				To see how this all comes together please check out the
				<code class="filename">restcomm.xml</code>
				configuration
				file.
			</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1179"/>2.3.4. VoIP Innovations Restful API Access</h3></div></div></div><p>The default auto provisioning API used by TelScale RestComm.</p><div class="table"><a id="d0e1184"/><p class="title"><strong>Table 2.3. VoIP Innovations Settings</strong></p><div class="table-contents"><table summary="VoIP Innovations Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">login</td><td align="left">The user name configured in the VoIP Innovations Portal
								under API users.</td></tr><tr><td align="left">password</td><td align="left">The password configured in the VoIP Innovations Portal
								under API users.</td></tr><tr><td align="left">endpoint</td><td align="left">The end point ID of the end point that will be used by
								TelScale RestComm</td></tr><tr><td align="left">uri</td><td align="left">The path to the VoIP Innovations service end point.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1217"/>2.3.5. Dao Manager</h3></div></div></div><p>The data access object manager is used to gain access to the
				data store that TelScale RestComm will use.</p><p>The default data access object manager is based on MyBatis and
				provides access to RDBM systems.</p><div class="table"><a id="d0e1224"/><p class="title"><strong>Table 2.4. MyBatis Settings</strong></p><div class="table-contents"><table summary="MyBatis Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">configuration-file</td><td align="left">The path to the mybatis.xml configuration file.</td></tr><tr><td align="left">data-files</td><td align="left">The path to the data files used to store the database
								tables.</td></tr><tr><td align="left">sql-files</td><td align="left">The path to the XML files containing the SQL statements
								that will be executed by the database.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1252"/>2.3.6. Media Server Manager</h3></div></div></div><p>
				The media server manager is responsible for all the media servers
				managed by TelScale RestComm.
			</p><div class="table"><a id="d0e1257"/><p class="title"><strong>Table 2.5. Media Server Manager Settings</strong></p><div class="table-contents"><table summary="Media Server Manager Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">local-address</td><td align="left">The local IP address for the MGCP stack.</td></tr><tr><td align="left">local-port</td><td align="left">The local port for the MGCP stack.</td></tr><tr><td align="left">remote-address</td><td align="left">The IP address for the media server.</td></tr><tr><td align="left">remote-port</td><td align="left">The port for the media server.</td></tr><tr><td align="left">response-timeout</td><td align="left">
								In milliseconds the maximum amount of time to wait for a response
								from
								the media server before abandoning the request. This does NOT apply
								to
								RQNT/NOTIFY request/response.
							</td></tr><tr><td align="left">external-address</td><td align="left">
								Sometimes there is interest to use a different address in the SDP than
								the IP address the media server is reporting. This parameter if
								set tells TelScale RestComm to
								patch the Connection attribute in the SDP on behalf of the media
								server to the specified IP address.
								Note: TelScale RestComm will only do NAT resolution when necessary so
								if your server already has a
								routable IP address setting this parameter will have no effect.
							</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1300"/>2.3.7. SMS Aggregator</h3></div></div></div><p>The SMS aggregator is responsible for the handling of SMS
				messages on behalf of TelScale RestComm.</p><p><strong>Requirements. </strong>
					The default SMS aggregator is SMS over IP as used by VoIP
					Innovations. Therefore, an account must be
					created @
					<a class="ulink" href="http://www.voipinnovations.com/">http://www.voipinnovations.com</a>
					before any text
					messages can be sent.
				</p><p>Below is a list of settings that must be configured to send
				text messages.</p><div class="table"><a id="d0e1315"/><p class="title"><strong>Table 2.6. SMS Aggregator Settings</strong></p><div class="table-contents"><table summary="SMS Aggregator Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">outbound-prepend-string</td><td align="left">
								A string that you would like to prepend to the destination
								address. For example,
								to use service from VoIP Innovations a '#' must be prepended to
								every destination
								address.
							</td></tr><tr><td align="left">outbound-endpoint</td><td align="left">
								The SIP endpoint to which outbound SMS messages should be sent.
								Note: Do not prepend sip: to the endpoint.
							</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1338"/>2.3.8. Fax Service</h3></div></div></div><p>The fax service sends faxes out on behalf of TelScale RestComm.</p><p><strong>Requirements. </strong>
					The default fax service is provided by Interfax. Therefore, an
					account must be created @
					<a class="ulink" href="http://www.interfax.net/">http://www.interfax.net</a>
					before any faxes can be
					sent.
				</p><div class="table"><a id="d0e1351"/><p class="title"><strong>Table 2.7. Fax Service Settings</strong></p><div class="table-contents"><table summary="Fax Service Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">user</td><td align="left">The user name used to authenticate with Interfax.</td></tr><tr><td align="left">password</td><td align="left">The password used to authenticate with Interfax.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1374"/>2.3.9. Speech Recognizer</h3></div></div></div><p>This speech recognizer turns speech into text on behalf of
				TelScale Restcomm.</p><p><strong>Requirements. </strong>
					The default speech recognizer uses the ASR service provided by
					iSpeech. Therefore, an account must be created @
					<a class="ulink" href="http://www.ispeech.org/">http://www.ispeech.org</a>
					before any speech can be converted to text.
				</p><div class="table"><a id="d0e1387"/><p class="title"><strong>Table 2.8. Speech Recognizer Settings</strong></p><div class="table-contents"><table summary="Speech Recognizer Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">api-key</td><td align="left">The Web API key provided by iSpeech. This is used as an
								authentication token for the service.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1405"/>2.3.10. Speech Synthesizer</h3></div></div></div><p>The speech synthesizer turns text to speech on behalf of
				TelScale RestComm.</p><p><strong>Requirements. </strong>
					The default speech synthesizer uses the TTS service provided by
					VoiceRSS. Therefore, an account must be created @
					<a class="ulink" href="http://http://www.voicerss.org/">http://www.voicerss.org</a>
					before any text can be converted to
					speech.
				</p><div class="table"><a id="d0e1418"/><p class="title"><strong>Table 2.9. VoiceRSS Speech Synthesizer Settings</strong></p><div class="table-contents"><table summary="VoiceRSS Speech Synthesizer Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Element</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">service-root</td><td align="left">The VoiceRSS service root URI.</td></tr><tr><td align="left">apikey</td><td align="left">The API key used to authenticate with the VoiceRSS.</td></tr><tr><td align="left">languages</td><td align="left">
								A list of male and female speakers for different languages. These
								can be replaced
								with other alternatives provided by VoiceRSS.
							</td></tr></tbody></table></div></div><br class="table-break"/></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="d0e1448"/>Chapter 3. RestComm Markup Language</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e1453">3.1. RestComm Request</a></span></dt><dt><span class="section"><a href="#d0e1519">3.2. Your Response</a></span></dt><dt><span class="section"><a href="#d0e1550">3.3. Say</a></span></dt><dt><span class="section"><a href="#d0e1633">3.4. Play</a></span></dt><dt><span class="section"><a href="#d0e1711">3.5. Gather</a></span></dt><dt><span class="section"><a href="#d0e1822">3.6. Record</a></span></dt><dt><span class="section"><a href="#d0e2012">3.7. Fax</a></span></dt><dt><span class="section"><a href="#d0e2151">3.8. Sms</a></span></dt><dt><span class="section"><a href="#d0e2276">3.9. Dial</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2467">3.9.1. Number</a></span></dt><dt><span class="section"><a href="#d0e2519">3.9.2. Client</a></span></dt><dt><span class="section"><a href="#d0e2531">3.9.3. Conference</a></span></dt><dt><span class="section"><a href="#d0e2648">3.9.4. Sip</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e2847">3.10. Hangup</a></span></dt><dt><span class="section"><a href="#d0e2864">3.11. Redirect</a></span></dt><dt><span class="section"><a href="#d0e2909">3.12. Reject</a></span></dt><dt><span class="section"><a href="#d0e2954">3.13. Pause</a></span></dt><dt><span class="section"><a href="#d0e2999">3.14. UssdCollect</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3011">3.14.1. UssdMessage</a></span></dt><dt><span class="section"><a href="#d0e3033">3.14.2. Language</a></span></dt></dl></dd></dl></div><p>The RestComm Markup Language (RCML) is composed of a set of XML tags that can be used to instruct
		RestComm on how to handle an on-going phone call. RestComm applications are built by combining these
		XML verbs and nouns in a way that is sensible for a given set of application requirements. In this
		chapter we will discuss what a request from RestComm to your application looks like as well as what the
		response from your application should look like. Then, we will dive in to how each verb and noun in the
		XML instruction set is used.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1453"/>3.1. RestComm Request</h2></div></div></div><p><strong>How RestComm Passes Data to Your Application. </strong>The way RestComm passes data to you application depends on the request method for the given
			URI. If the request method is GET then the data is passed in the query string or the part after
			the question mark. If the request method is POST then the data is sent a multi-part form data just
			like when a browser submits a form.</p><p><strong>RestComm Voice Request. </strong>Any time RestComm makes a request to you applications it will include the following data
			as request parameters.</p><div class="table"><a id="d0e1466"/><p class="title"><strong>Table 3.1. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">CallSid</td><td align="left">The unique identifier for this call.</td></tr><tr><td align="left">AccountSid</td><td align="left">Your account id.</td></tr><tr><td align="left">From</td><td align="left">The phone number of the originator of the call.</td></tr><tr><td align="left">To</td><td align="left">The phone number of the call recipient.</td></tr><tr><td align="left">CallStatus</td><td align="left">The status of the call. The possible values are queued, ringing, in-progress, completed, busy, failed, and no-answer.</td></tr><tr><td align="left">ApiVersion</td><td align="left">The version of the RestComm API used to handle this call.</td></tr><tr><td align="left">Direction</td><td align="left">The direction of the call. The possible values are inbound and outbound-dial.</td></tr><tr><td align="left">CallerName</td><td align="left">The caller ID for the caller in the case of inbound calls.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1519"/>3.2. Your Response</h2></div></div></div><p>In your response to the request from RestComm you want to provide RCML that will instruct RestComm on how
		to handle the current call.</p><p><strong>MIME Types. </strong>RestComm supports the MIME types described in the table below.</p><div class="table"><a id="d0e1529"/><p class="title"><strong>Table 3.2. Supported MIME Types</strong></p><div class="table-contents"><table summary="Supported MIME Types" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">text/xml,
						application/xml</td><td align="left">RestComm interprets the returned document as an XML instruction set.</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>When your application returns the RCML document the root element of the document must
			always be &lt;Response&gt; or the parser will complain.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1550"/>3.3. Say</h2></div></div></div><p>The &lt;Say&gt; verb is used to synthesize text to speech and play it to the remote party.
		The voices supported depends on the TTS Service provider plug-in. Below are the voices for our default
		TTS service provider plug-in which uses Acapela Voice and VoiceRSS (default) as a Service.</p><div class="table"><a id="d0e1555"/><p class="title"><strong>Table 3.3. Say Attributes</strong></p><div class="table-contents"><table summary="Say Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">voice</td><td align="left">man, woman</td><td align="left">man</td></tr><tr><td align="left">language</td><td align="left">bf, bp, en, en-gb,cf, cs, dan, fi es, fr, de, el,
					it, nl, no, pl, pt, ru, ar, ca, sv, tr</td><td align="left">en</td></tr><tr><td align="left">loop</td><td align="left">integer &gt; 1</td><td align="left">1</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>voice. </strong>The 'voice' attribute allows you to select the gender of the voice used to synthesize
	    		the text to speech for playback.</p><p><strong>language. </strong>The 'language' attribute allows you pick a specific language for speech synthesis.
	    		RestComm currently supports languages 'bf' (Belgium-French), 'bp' (Brazilian-Portugues), 'en' (English),
	    		'en-gb' (British-English), 'cf' (Canadian-French), 'cs' (Czech), 'dan' (Dannish), 'fi' (Finnish), 'es' (Spanish),
	    		'fr' (French), 'de' (German), 'el' (Greek), 'it' (Italian), 'nl' (Netherlands-Dutch), 'no' (Norwegian),
	    		'pl' (Polish), 'pt' (Portuguese), 'ru' (Russian), 'ar' (Saudi-Arabia Arabic), 'ca' (Spain Catalan),
	    		'sv' (Swedish), and 'tr' (Turkish).</p><p><strong>loop. </strong>The 'loop' attribute specifies how many times you'd like the text repeated. Specifying '0' will
	    		cause the the &lt;Say&gt; verb to loop until the call is hung up.</p><p><strong>Nesting. </strong>The &lt;Say&gt; verb can not have any other verbs or nouns nested. Only text.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Say&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Say&gt;Hello World&lt;/Say&gt;
		&lt;/Response&gt;
		</pre><p>The example below shows how you can set the language, voice and loop parameters of the Say Verb.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
	
		&lt;Response&gt;
		&lt;Say voice="woman" language="fr" loop="3"&gt;Bienvenue à RestComm un projet parrainé par TeleStax&lt;/Say&gt;
		&lt;/Response&gt;

	
	</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2> Usefull Information</h2><div class="itemizedlist"><ul class="itemizedlist" type="opencircle"><li class="listitem"><p>
		When translating text to speech, the Say verb will make assumptions about how to pronounce numbers, dates, times, amounts of money and other abbreviations.

		</p></li><li class="listitem"><p>
		When saying numbers, '12345' will be spoken as "twelve thousand three hundred forty-five." Whereas '1 2 3 4 5' will be spoken as "one two three four five."
		</p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1633"/>3.4. Play</h2></div></div></div><p>The &lt;Play&gt; verb is used to play an audio file to the remote party.</p><div class="table"><a id="d0e1638"/><p class="title"><strong>Table 3.4. Play Attributes</strong></p><div class="table-contents"><table summary="Play Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">loop</td><td align="left">integer &gt; 1</td><td align="left">1</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>loop. </strong>The 'loop' attribute specifies how many times you'd like the audio file to be repeated. Specifying '0' will
	    		cause the the &lt;Play&gt; verb to loop until the call is hung up.</p><div class="table"><a id="d0e1666"/><p class="title"><strong>Table 3.5. Supported Audio Formats</strong></p><div class="table-contents"><table summary="Supported Audio Formats" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">MIME type</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">audio/wav</td><td align="left">wav format audio</td></tr><tr><td align="left">audio/wave</td><td align="left">wav format audio</td></tr><tr><td align="left">audio/x-wav</td><td align="left">wav format audio</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Media Server Audio File Format</h2><p>
The recommended audio file format is linear( 8000,16 bit , Mono ).
</p></div><p><strong>Nesting. </strong>The &lt;Play&gt; verb can not have any other verbs or nouns nested. Only a URL.</p><p><strong>Basic example. </strong>For an example of how to use the &lt;Play&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Play&gt;http://foobar.com/demo.wav&lt;/Play&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1711"/>3.5. Gather</h2></div></div></div><p>The &lt;Gather&gt; verb "gathers" digits that a caller enters into his or her telephone keypad. When the caller
			is done entering digits, RestComm submits that digits to the provided 'action' URL in an HTTP GET or POST request.
			If no input is received before timeout, &lt;Gather&gt; falls through to the next verb in the RestComm document.
			You may optionally nest &lt;Say&gt;, &lt;Play&gt;, and &lt;Pause&gt; verbs within a &lt;Gather&gt; verb while
			waiting for input. This allows you to read menu options to the caller while letting her enter a menu selection
			at any time. After the first digit is received the audio will stop playing.</p><div class="table"><a id="d0e1716"/><p class="title"><strong>Table 3.6. Gather Attributes</strong></p><div class="table-contents"><table summary="Gather Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">action</td><td align="left">relative or absolute URL</td><td align="left">current document URL</td></tr><tr><td align="left">method</td><td align="left">GET, POST</td><td align="left">POST</td></tr><tr><td align="left">timeout</td><td align="left">positive integer</td><td align="left">5 seconds</td></tr><tr><td align="left">finishOnKey</td><td align="left">any digit, #, *</td><td align="left">#</td></tr><tr><td align="left">numDigits</td><td align="left">integer &gt;= 1</td><td align="left">unlimited</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>action. </strong>The 'action' attribute takes an absolute or relative URL as a value. When the caller has finished
	    		entering digits RestComm will make a GET or POST request to this URL including the parameters below.
	    		If no 'action' is provided, RestComm will by default make a POST request to the current document's URL.</p><div class="table"><a id="d0e1772"/><p class="title"><strong>Table 3.7. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Digits</td><td align="left">The digits the caller pressed, excluding the finishOnKey digit.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>method. </strong>The 'method' attribute takes the value 'GET' or 'POST'. This tells RestComm whether to request the 'action' URL
	    		via HTTP GET or POST.</p><p><strong>timeout. </strong>The 'timeout' attribute sets the limit in seconds that RestComm will wait for the caller to press another digit before
	    		moving on and making a request to the 'action' URL. For example, if 'timeout' is '10', RestComm will wait ten seconds for
	    		the caller to press another key before submitting the previously entered digits to the 'action' URL. RestComm waits until
	    		completing the execution of all nested verbs before beginning the timeout period.</p><p><strong>finishOnKey. </strong>The 'finishOnKey' attribute lets you choose one value that submits the received data when entered. For example, if you
	    		set 'finishOnKey' to '#' and the user enters '1234#', RestComm will immediately stop waiting for more input when the '#' is
	    		received and will submit "Digits=1234" to the 'action' URL. Note that the 'finishOnKey' value is not sent. The allowed
	    		values are the digits 0-9, '#' , '*' and the empty string (set 'finishOnKey' to ''). If the empty string is used,
	    		&lt;Gather&gt; captures all input and no key will end the &lt;Gather&gt; when pressed. In this case RestComm will submit
	    		the entered digits to the 'action' URL only after the timeout has been reached. The value can only be a single character.</p><p><strong>numDigits. </strong>The 'numDigits' attribute lets you set the number of digits you are expecting, and submits the data to the 'action' URL
	    		once the caller enters that number of digits.</p><p><strong>Nesting. </strong>You can nest the following verbs within &lt;Gather&gt;: &lt;Say&gt;, &lt;Play&gt;, &lt;Pause&gt;</p><p><strong>Examples. </strong>For an example of how to use the &lt;Gather&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
			&lt;Response&gt;
				&lt;Gather action="handle-user-input.php" numDigits="1"&gt;
					&lt;Say&gt;Welcome to TPS.&lt;/Say&gt;
					&lt;Say&gt;For store hours, press 1.&lt;/Say&gt;
					&lt;Say&gt;To speak to an agent, press 2.&lt;/Say&gt;
					&lt;Say&gt;To check your package status, press 3.&lt;/Say&gt;
				&lt;/Gather&gt;
				&lt;!-- If customer doesn't input anything, prompt and try again. --&gt;
				&lt;Say&gt;Sorry, I didn't get your response.&lt;/Say&gt;
				&lt;Redirect&gt;handle-incoming-call.xml&lt;/Redirect&gt;
			&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e1822"/>3.6. Record</h2></div></div></div><p>The &lt;Record&gt; verb records the caller's voice and returns to you the URL of a file containing the audio recording.</p><div class="table"><a id="d0e1827"/><p class="title"><strong>Table 3.8. Record Attributes</strong></p><div class="table-contents"><table summary="Record Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">action</td><td align="left">relative or absolute URL</td><td align="left">current document URL</td></tr><tr><td align="left">method</td><td align="left">GET, POST</td><td align="left">POST</td></tr><tr><td align="left">timeout</td><td align="left">positive integer</td><td align="left">5</td></tr><tr><td align="left">finishOnKey</td><td align="left">any digit, #, *</td><td align="left">1234567890*#</td></tr><tr><td align="left">maxLength</td><td align="left">integer greater than 1 with the number of seconds to wait</td><td align="left">3600 (1 hour)</td></tr><tr><td align="left">transcribe</td><td align="left">true, false</td><td align="left">false</td></tr><tr><td align="left">transcribeCallback</td><td align="left">relative or absolute URL</td><td align="left">none</td></tr><tr><td align="left">playBeep</td><td align="left">true, false</td><td align="left">true</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>action. </strong>The 'action' attribute takes an absolute or relative URL as a value. When recording is finished
	    	RestComm will make a GET or POST request to this URL including the parameters below. If no 'action' is
	    	provided, &lt;Record&gt; will default to requesting the current document's URL. After making this request,
	    	RestComm will continue the current call using the RCML received in your response. Any RCML verbs occuring
	    	after a &lt;Record&gt; are unreachable. There is one exception: if RestComm receives an empty recording,
	    	it will not make a request to the 'action' URL. The current call flow will continue with the next verb in
	    	the current RCML document.</p><div class="table"><a id="d0e1904"/><p class="title"><strong>Table 3.9. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">RecordingUrl</td><td align="left">The URL of the recorded audio.</td></tr><tr><td align="left">RecordingDuration</td><td align="left">The time duration of the recorded audio.</td></tr><tr><td align="left">Digits</td><td align="left">The digits the caller pressed, excluding the finishOnKey digit.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>method. </strong>The 'method' attribute takes the value 'GET' or 'POST'. This tells RestComm whether to
	    		request the URL via HTTP GET or POST. </p><p><strong>timeout. </strong>The 'timeout' attribute tells RestComm to end the recording after a number of seconds of silence has passed.</p><p><strong>finishOnKey. </strong>The 'finishOnKey' attribute lets you choose a set of digits that end the recording when entered. For example, if you
	    	set 'finishOnKey' to '#' and the caller presses '#', RestComm will immediately stop recording and submit 'RecordingUrl',
	    	'RecordingDuration', and the '#' as parameters in a request to the 'action' URL. The allowed values are the digits 0-9, '#'
	    	and '*'. Unlike &lt;Gather&gt;, you may specify more than one character as a 'finishOnKey' value.</p><p><strong>maxLength. </strong>The 'maxLength' attribute lets you set the maximum length for the recording in seconds.</p><p><strong>transcribe. </strong>The 'transcribe' attribute tells RestComm that you would like a text representation of the audio of the recording.</p><p><strong>transcribeCallback. </strong>The 'transcribeCallback' attribute is used in conjunction with the 'transcribe' attribute. It allows you to specify a URL
	    	to which RestComm will make an asynchronous POST request when the transcription is complete. This is not a request for RCML
	    	and the response will not change call flow, but the request will contain the standard RCML request parameters as well as
	    	'TranscriptionStatus', 'TranscriptionText', 'TranscriptionUrl' and 'RecordingUrl'. If 'transcribeCallback' is specified,
	    	then there is no need to specify 'transcribe=true'. It is implied. If you specify 'transcribe=true' without a 'transcribeCallback',
	    	the completed transcription will be stored for you to retrieve later (see the REST API Transcriptions section), but RestComm will
	    	not asynchronously notify your application.</p><div class="table"><a id="d0e1962"/><p class="title"><strong>Table 3.10. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">TranscriptionText</td><td align="left">Contains the text of the transcription.</td></tr><tr><td align="left">TranscriptionStatus</td><td align="left">The status of the transcription attempt: either 'completed' or 'failed'.</td></tr><tr><td align="left">TranscriptionUrl</td><td align="left">The URL for the transcription's REST API resource.</td></tr><tr><td align="left">RecordingUrl</td><td align="left">The URL for the transcription's source recording resource.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>playBeep. </strong>The 'playBeep' attribute allows you to toggle between playing a sound before the start of a recording.</p><p><strong>Nesting. </strong>The &lt;Record&gt; verb can not have any other verbs or nouns nested.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Record&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Record maxLength="30"/&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2012"/>3.7. Fax</h2></div></div></div><p>The &lt;Fax&gt; verb sends a fax to some a fax machine.</p><div class="table"><a id="d0e2017"/><p class="title"><strong>Table 3.11. Fax Attributes</strong></p><div class="table-contents"><table summary="Fax Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">to</td><td align="left">phone number</td><td align="left">see below</td></tr><tr><td align="left">from</td><td align="left">phone number</td><td align="left">see below</td></tr><tr><td align="left">action</td><td align="left">relative or absolute URL</td><td align="left">none</td></tr><tr><td align="left">method</td><td align="left">GET, POST</td><td align="left">POST</td></tr><tr><td align="left">statusCallback</td><td align="left">relative or absolute URL</td><td align="left">none</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>to. </strong>The 'to' attribute takes a valid E.164 phone number as a value. RestComm will send a fax to this number.
	    	When sending a fax during an incoming call, 'to' defaults to the caller. When sending an fax during an outgoing call,
	    	'to' defaults to the called party. The value of 'to' must be a valid phone number.</p><p><strong>from. </strong>The 'from' attribute takes a valid E.164 phone number as an argument. When sending a fax during an incoming call,
	    	'from' defaults to the calling party. When sending a fax during an outgoing call, 'from' defaults to the called party.
	    	The value of 'from' must be a valid phone number.</p><p><strong>action. </strong>The 'action' attribute takes a URL as an argument. After processing the &lt;Fax&gt; verb, RestComm will make a GET
	    	or POST request to this URL with the form parameters 'FaxStatus' and 'FaxSid'. Using an 'action' URL, your application
	    	can receive synchronous notification that the message was successfully enqueued. If you provide an 'action' URL, RestComm
	    	will use the RCML received in your response to the 'action' URL request to continue the current call. Any RCML verbs
	    	occuring after a &lt;Fax&gt; which specifies an 'action' attribute are unreachable. If no 'action' is provided, &lt;Fax&gt;
	    	will finish and RestComm will move on to the next RCML verb in the document. If there is no next verb, RestComm will end the
	    	phone call.</p><div class="table"><a id="d0e2083"/><p class="title"><strong>Table 3.12. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FaxSid</td><td align="left">The Sid for the Sms message.</td></tr><tr><td align="left">FaxStatus</td><td align="left">The current status of the Sms message. Either 'sent' or 'failed'.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>method. </strong>The 'method' attribute takes the value 'GET' or 'POST'. This tells RestComm whether to request the 'action' URL via HTTP GET
	    	or POST. This attribute is modeled after the HTML form 'method' attribute.</p><p><strong>statusCallback. </strong>The 'statusCallback' attribute takes a URL as an argument. When the fax is actually sent, or if sending fails,
	    	RestComm will make an asynchronous POST request to this URL with the parameters 'FaxStatus' and 'FaxSid'.
	    	Note, 'statusCallback' always uses HTTP POST to request the given url.</p><div class="table"><a id="d0e2116"/><p class="title"><strong>Table 3.13. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FaxSid</td><td align="left">The Sid for the fax message.</td></tr><tr><td align="left">FaxStatus</td><td align="left">The current status of the fax. Either 'sent' or 'failed'.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Nesting. </strong>The &lt;Fax&gt; verb can not have any other verbs or nouns nested.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Fax&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Fax&gt;This is a test fax.&lt;/Fax&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2151"/>3.8. Sms</h2></div></div></div><p>The &lt;Sms&gt; verb sends an SMS message to a phone number during a phone call.</p><div class="table"><a id="d0e2156"/><p class="title"><strong>Table 3.14. Sms Attributes</strong></p><div class="table-contents"><table summary="Sms Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">to</td><td align="left">phone number</td><td align="left">see below</td></tr><tr><td align="left">from</td><td align="left">phone number</td><td align="left">see below</td></tr><tr><td align="left">action</td><td align="left">relative or absolute URL</td><td align="left">none</td></tr><tr><td align="left">method</td><td align="left">GET, POST</td><td align="left">POST</td></tr><tr><td align="left">statusCallback</td><td align="left">relative or absolute URL</td><td align="left">none</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>to. </strong>The 'to' attribute takes a valid E.164 phone number as a value. RestComm will send an SMS message to this number.
	    	When sending an SMS during an incoming call, 'to' defaults to the caller. When sending an SMS during an outgoing call,
	    	'to' defaults to the called party. The value of 'to' must be a valid phone number.</p><p><strong>from. </strong>The 'from' attribute takes a valid E.164 phone number as an argument. When sending an SMS during an incoming call,
	    	'from' defaults to the calling party. When sending an SMS during an outgoing call, 'from' defaults to the called party.</p><p><strong>action. </strong>The 'action' attribute takes a URL as an argument. After processing the &lt;Sms&gt; verb, RestComm will make a GET
	    	or POST request to this URL with the form parameters 'SmsStatus' and 'SmsSid'. Using an 'action' URL, your application
	    	can receive synchronous notification that the message was successfully enqueued. If you provide an 'action' URL, RestComm
	    	will use the RCML received in your response to the 'action' URL request to continue the current call. Any RCML verbs
	    	occuring after an &lt;Sms&gt; which specifies an 'action' attribute are unreachable. If no 'action' is provided, &lt;Sms&gt;
	    	will finish and RestComm will move on to the next RCML verb in the document. If there is no next verb, RestComm will end the
	    	phone call.</p><p><strong>method. </strong>The 'method' attribute takes the value 'GET' or 'POST'. This tells RestComm whether to request the 'action' URL via HTTP GET
	    	or POST. This attribute is modeled after the HTML form 'method' attribute.</p><p><strong>statusCallback. </strong>The 'statusCallback' attribute takes a URL as an argument. When the SMS message is actually sent, or if sending fails,
	    	RestComm will make an asynchronous POST request to this URL with the parameters 'SmsStatus' and 'SmsSid'.
	    	Note, 'statusCallback' always uses HTTP POST to request the given url.</p><div class="table"><a id="d0e2232"/><p class="title"><strong>Table 3.15. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">SmsSid</td><td align="left">The Sid for the Sms message.</td></tr><tr><td align="left">SmsStatus</td><td align="left">The current status of the Sms message. Either 'sent' or 'failed'.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Nesting. </strong>The &lt;Sms&gt; verb can not have any other verbs or nouns nested.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Sms&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Sms&gt;Hello World!&lt;/Sms&gt;
		&lt;/Response&gt;
		</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Sms Custom headers</h2><p>
						Restcomm will check for any custom headers and make use of them. 
					</p><p>
						In case of an incoming SMS (incoming SIP MESSAGE) Restcomm will scan the message for any headers starting with X- and if any found will be send to
						the application server with the request (part of the query string in the case of HTTP GET or part of the message body in the case of HTTP POST)
					</p><p>
						The application server can also provide some custom http headers (again starting with X-) along with the RCML response, that Restcomm will store and use them
						when creating the outgoing SMS message (in the case of RCML response is Sms).
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2276"/>3.9. Dial</h2></div></div></div><p>The &lt;Dial&gt; verb connects the current caller to another phone. If the called party picks up, the two parties are
		connected and can communicate until one hangs up. If the called party does not pick up, if a busy signal is received, or if
		the number doesn't exist, the dial verb will finish.</p><div class="table"><a id="d0e2281"/><p class="title"><strong>Table 3.16. Dial Attributes</strong></p><div class="table-contents"><table summary="Dial Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">action</td><td align="left">relative or absolute URL</td><td align="left">no default for &lt;Dial&gt;</td></tr><tr><td align="left">method</td><td align="left">GET, POST</td><td align="left">POST</td></tr><tr><td align="left">timeout</td><td align="left">positive integer in seconds</td><td align="left">30 seconds</td></tr><tr><td align="left">timeLimit</td><td align="left">positive integer (seconds)</td><td align="left">14400 seconds (4 hours)</td></tr><tr><td align="left">callerId</td><td align="left">a valid phone number, or client identifier if you are dialing a &lt;Client&gt;.</td><td align="left">Caller's callerId</td></tr><tr><td align="left">record</td><td align="left">true, false</td><td align="left">false</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>action. </strong>The 'action' attribute takes a URL as an argument. When the dialed call ends, RestComm will make a GET or POST
	    	request to this URL including the parameters below. If you provide an 'action' URL, RestComm will continue the current
	    	call after the dialed party has hung up, using the RCML received in your response to the 'action' URL request.
	    	Any RCML verbs occuring after a &lt;Dial&gt; which specifies an 'action' attribute are unreachable. If no 'action'
	    	is provided, &lt;Dial&gt; will finish and RestComm will move on to the next RCML verb in the document.
	    	If there is no next verb, RestComm will end the phone call.</p><div class="table"><a id="d0e2344"/><p class="title"><strong>Table 3.17. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">DialCallStatus</td><td align="left">The outcome of the &lt;Dial&gt; attempt. See the DialCallStatus section below for details.</td></tr><tr><td align="left">DialCallSid</td><td align="left">The call sid of the new call leg. This parameter is not sent after dialing a conference.</td></tr><tr><td align="left">DialCallDuration</td><td align="left">The duration in seconds of the dialed call. This parameter is not sent after dialing a conference.</td></tr><tr><td align="left">RecordingUrl</td><td align="left">The URL of the recorded audio. This parameter is only sent if record="true" is set on the <code class="filename">Dial</code> verb, and does not include recordings from the <code class="filename">Record</code>  verb or Record=True on REST API calls..</td></tr></tbody></table></div></div><br class="table-break"/><div class="table"><a id="d0e2383"/><p class="title"><strong>Table 3.18. DialCallStatus Values</strong></p><div class="table-contents"><table summary="DialCallStatus Values" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">completed</td><td align="left">The called party answered the call and was connected to the caller.</td></tr><tr><td align="left">busy</td><td align="left">RestComm received a busy signal when trying to connect to the called party.</td></tr><tr><td align="left">no-answer</td><td align="left">The called party did not pick up before the timeout period passed.</td></tr><tr><td align="left">failed</td><td align="left">RestComm was unable to route to the given phone number. This is frequently caused by dialing a
					properly formated but non-existent phone number.</td></tr><tr><td align="left">canceled</td><td align="left">The call was canceled via the REST API before it was answered.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>method. </strong>The 'method' attribute takes the value 'GET' or 'POST'. This tells RestComm whether to request the 'action'
	    	URL via HTTP GET or POST. This attribute is modeled after the HTML form 'method' attribute.</p><p><strong>timeout. </strong>The 'timeout' attribute sets the limit in seconds that &lt;Dial&gt; waits for the called party to answer the call.</p><p><strong>timelimit. </strong>The 'timeLimit' attribute sets the maximum duration of the &lt;Dial&gt; in seconds.</p><p><strong>callerId. </strong>The 'callerId' attribute lets you specify the caller ID that will appear to the called party when RestComm calls.
	    	By default, when you put a &lt;Dial&gt; in your RCML response to RestComm's inbound call request, the caller ID that
	    	the dialed party sees is the inbound caller's caller ID. If you are dialing to a &lt;Client&gt;, you can set a client
	    	identifier as the callerId attribute. For instance, if you've set up a client for incoming calls and you are dialing to
	    	it, you could set the callerId attribute to client:thomas.</p><p><strong>record. </strong>The 'record' attribute lets you specify whether the call will be recorded or not.
	    	By default, the call is not recorded. If you set the attribute to 'true' Restcomm will start recording when the two calls are bridged</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Record attribute for Dial Conference</h2><p>
The current release of Restcomm doesn't support recording for Dial Conference. This feature will be available in the next release
</p></div><p><strong>Nesting. </strong>You can nest the following nouns within &lt;Dial&gt;: &lt;Number&gt;, &lt;Client&gt;, &lt;Conference&gt;</p><p><strong>Examples. </strong>For examples of how to use the &lt;Dial&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Dial&gt;1-444-555-666&lt;/Dial&gt;
		&lt;/Response&gt;
		</pre><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Dial record="true"&gt;1-444-555-666&lt;/Dial&gt;
		&lt;/Response&gt;
		</pre><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Dial callerId="1555666777" record="true"&gt;1-444-555-666&lt;/Dial&gt;
		&lt;/Response&gt;
		</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e2467"/>3.9.1. Number</h3></div></div></div><p>The &lt;Number&gt; noun specifies a phone number to dial. You can use multiple &lt;Number&gt; nouns within a
			&lt;Dial&gt; verb to simultaneously call all of them at once. The first call to pick up is connected to the current call and
			the rest are hung up.</p><div class="table"><a id="d0e2472"/><p class="title"><strong>Table 3.19. Number Attributes</strong></p><div class="table-contents"><table summary="Number Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">sendDigits</td><td align="left">any digits</td><td align="left">none</td></tr><tr><td align="left">url</td><td align="left">any url</td><td align="left">none</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>sendDigits. </strong>The 'sendDigits' attribute tells RestComm to play DTMF tones when the call is answered.
	    	This is useful when dialing a phone number and an extension. RestComm will dial the number, and
	    	when the automated system picks up, send the DTMF tones to connect to the extension.</p><p><strong>url. </strong>The 'url' attribute allows you to specify a url for a RCML document that will run on the
	    	called party's end, after he/she answers, but before the parties are connected. You can use this RCML
	    	to privately play or say information to the called party, or provide a chance to decline the phone call
	    	using &lt;Gather&gt; and &lt;Hangup&gt;. The current caller will continue to hear ringing while the
	    	RCML document executes on the other end. RCML documents executed in this manner are not allowed to contain
	    	the &lt;Dial&gt; verb.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Number&gt; noun see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Dial&gt;
				&lt;Number sendDigits="wwww1234"&gt;1-444-555-6666&lt;/Number&gt;
			&lt;/Dial&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e2519"/>3.9.2. Client</h3></div></div></div><p>The &lt;Client&gt; noun specifies a client identifier to dial. You can use multiple &lt;Client&gt; nouns within
			a &lt;Dial&gt; verb to simultaneously attempt a connection with many clients at once. The first client to accept the
			incoming connection is connected to the call and the other connection attempts are canceled.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Client&gt; none see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
			&lt;Response&gt;
				&lt;Dial&gt;
					&lt;Client&gt;thomas&lt;/Client&gt;
				&lt;/Dial&gt;
			&lt;/Response&gt;
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e2531"/>3.9.3. Conference</h3></div></div></div><p>The &lt;Conference&gt; noun allows you to connect to a named conference room and talk with the other callers
			who have also connected to that room. The name of the room is up to you and is namespaced to your account.</p><div class="table"><a id="d0e2536"/><p class="title"><strong>Table 3.20. Conference Attributes</strong></p><div class="table-contents"><table summary="Conference Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">muted</td><td align="left">true, false</td><td align="left">false</td></tr><tr><td align="left">beep</td><td align="left">true, false</td><td align="left">true</td></tr><tr><td align="left">startConferenceOnEnter</td><td align="left">true, false</td><td align="left">true</td></tr><tr><td align="left">endConferenceOnExit</td><td align="left">true, false</td><td align="left">false</td></tr><tr><td align="left">waitUrl</td><td align="left">RCML url, empty string</td><td align="left">default RestComm hold music</td></tr><tr><td align="left">waitMethod</td><td align="left">GET or POST</td><td align="left">POST</td></tr><tr><td align="left">maxParticipants</td><td align="left">positive integer &lt;= 40</td><td align="left">40</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>muted. </strong>The 'muted' attribute lets you specify whether a participant can speak in the conference.
		    	If this attribute is set to 'true', the participant will only be able to listen to people in the conference.</p><p><strong>beep. </strong>The 'beep' attribute lets you specify whether a notification beep is played to the conference when a participant
		    	joins or leaves the conference.</p><p><strong>startConferenceOnEnter. </strong>This attribute tells a conference to start when this participant joins the conference, if it is not already started.
		    	If this is false and the participant joins a conference that has not started, they are muted and hear background music
		    	until a participant joins where startConferenceOnEnter is true. This is useful for implementing moderated conferences.</p><p><strong>endConferenceOnExit. </strong>If a participant has this attribute set to 'true', then when that participant leaves, the conference ends and all
		    	other participants drop out. This is useful for implementing moderated conferences that bridge two calls and allow either
		    	call leg to continue executing RCML if the other hangs up.</p><p><strong>waitUrl. </strong>The 'waitUrl' attribute lets you specify a URL for music that plays before the conference has started. The URL may
		    	be a WAV or a RCML document that uses &lt;Play&gt; or &lt;Say&gt; for content. This defaults to a selection of Creative
		    	Commons licensed background music, but you can replace it with your own music and messages. If the 'waitUrl' responds with
		    	RCML, RestComm will only process &lt;Play&gt;, &lt;Say&gt;, and &lt;Redirect&gt; verbs. If you do not wish anything to play
		    	while waiting for the conference to start, specify the empty string (set 'waitUrl' to '').</p><p><strong>waitMethod. </strong>This attribute indicates which HTTP method to use when requesting 'waitUrl'. It defaults to 'POST'. Be sure to use
		    	'GET' if you are directly requesting static audio files such as WAV files so that RestComm properly caches the files.</p><p><strong>maxParticipants. </strong>This attribute indicates the maximum number of participants you want to allow within a named conference room. The default
		    	maximum number of participants is 40. The value must be a positive integer less than or equal to 100.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Conference&gt; noun see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
			&lt;Response&gt;
				&lt;Dial&gt;
					&lt;Conference&gt;1234&lt;/Conference&gt;
				&lt;/Dial&gt;
			&lt;/Response&gt;
			</pre></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Uri noun deprecated</h2><p>The Uri noun has been deprecated and will no longer be available in future releases. Please use the SIP noun instead.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e2648"/>3.9.4. Sip</h3></div></div></div><p>The &lt;Sip&gt; noun specifies a SIP URI to dial. You can use multiple &lt;Sip&gt; nouns within
			a &lt;Dial&gt; verb to simultaneously attempt a connection with many user agents at once. The first
			user agent to accept the incoming connection is connected to the call and the other connection attempts
			are canceled.</p><p>The <code class="filename">Dial</code> verb's <code class="filename">Sip</code>  noun lets you set up VoIP sessions by using SIP -- Session Initiation Protocol. With this feature, you can send a call to any SIP endpoint. Set up your RCML to use the <code class="filename">Sip</code> noun within the <code class="filename">Dial</code> verb.</p><p>
Currently, only one <code class="filename">Sip</code> noun may be specified per <code class="filename">Dial</code>, and the INVITE message may be sent to only one SIP endpoint. Also, you cannot add any other nouns (eg Number, Client) in the same <code class="filename">Dial</code> as the SIP. If you want to use another noun, set up a callback on the <code class="filename">Dial</code> to use alternate methods.
</p><p><strong>Examples. </strong>For an example of how to use the &lt;Sip&gt; noun see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
			&lt;Response&gt;
				&lt;Dial&gt;
					&lt;Sip&gt;sip:alice@127.0.0.1:5080&lt;/Sip&gt;
				&lt;/Dial&gt;
			&lt;/Response&gt;
			</pre><p><strong>Authentication . </strong></p><p>
Send username and password attributes for authentication to your SIP infrastructure as attributes on the Sip noun.
</p><div class="table"><a id="d0e2693"/><p class="title"><strong>Table 3.21. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Attribute Name</th><th align="center">Values</th></tr></thead><tbody><tr><td align="left">username</td><td align="left">Username for SIP authentication.</td></tr><tr><td align="left">password</td><td align="left">Password for SIP authentication</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Authentication Example . </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
	&lt;Dial&gt;
		&lt;Sip username="alice" password="secret"&gt;sip:alice@example.com&lt;/Sip&gt;
	&lt;/Dial&gt;
&lt;/Response&gt;


</pre><p><strong>Custom headers. </strong></p><p>
Send custom headers by appending them to the SIP URI -- just as you'd pass headers in a URI over HTTP. For example:
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
	&lt;Dial&gt;
		&lt;Sip&gt;
		sip:alice@example.com?mycustomheader=tata&amp;myotherheader=toto
		&lt;/Sip&gt;
	&lt;/Dial&gt;
&lt;/Response&gt;


</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Character Limit</h2>
While the SIP URI itself must be under 255 chars, the headers must be under 1024 characters.
</div><p><strong>Transport. </strong></p><p>
Set a parameter on your SIP URI to specify what transport protocol you want to use. Currently, this is limited to TCP and UDP. By default, Restcomm sends your SIP INVITE over UDP. Change this by using the transport parameter:
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
	&lt;Dial&gt;
		&lt;Sip&gt;
		sip:alice@example.com;transport=tcp
		&lt;/Sip&gt;
	&lt;/Dial&gt;
&lt;/Response&gt;


</pre><p><strong>Attributes. </strong></p><div class="table"><a id="d0e2742"/><p class="title"><strong>Table 3.22. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Attribute Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">call screening url.</td><td align="left">none.</td></tr><tr><td align="left">method</td><td align="left">GET, POST </td><td align="left">POST </td></tr></tbody></table></div></div><br class="table-break"/><p>
The url attribute allows you to specify a url for a RCML document that runs on the called party's end, after they answer, but before the two parties are connected. You can use this RCML to privately Play or Say information to the called party, or provide a chance to decline the phone call using Gather and Hangup. The current caller continues to hear ringing while the RCML document executes on the other end. RCML documents executed in this manner cannot contain the Dial verb.
</p><p><strong>method. </strong></p><p>
The method attribute allows you to specify which HTTP method Restcomm should use when requesting the URL specified in the url attribute. The default is POST.

</p><p><strong>Call Screening HTTP parameters. </strong></p><p>
When a call is answered, Restcomm passes the following parameters with its request to your screening URL (in addition to the standard RCML Voice request parameters):
</p><div class="table"><a id="d0e2784"/><p class="title"><strong>Table 3.23. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Attribute Name</th><th align="center">Values</th></tr></thead><tbody><tr><td align="left">SipCallId</td><td align="left">The SIP call ID header of the request made to the remote SIP infrastructure.</td></tr><tr><td align="left">SipHeader</td><td align="left">The name/value of any X-headers returned in the 200 response to the SIP INVITE request.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Dial Action HTTP parameters. </strong></p><p>
Use the action callback parameters to modify your application based on the results of the SIP dial attempt:
</p><div class="table"><a id="d0e2812"/><p class="title"><strong>Table 3.24. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Attribute Name</th><th align="center">Values</th></tr></thead><tbody><tr><td align="left">DialSipCallId</td><td align="left">The SIP call ID header of the request made to the remote SIP infrastructure.</td></tr><tr><td align="left">DialSipResponseCode</td><td align="left">The SIP response code as a result of the INVITE attempt.</td></tr><tr><td align="left">DialSipHeader_ </td><td align="left">The name/value of any X-headers returned in the final response to the SIP INVITE request.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Dial with Multiple Examples. </strong></p><p>
A more complex Dial, specifying custom settings as attributes on Dial, including call screening and setting the protocol to TCP.
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
	&lt;Dial
		record="true"
		timeout="10"
		hangupOnStar="true"
		callerId="bob"
		method="POST"
		action="/handle_post_dial"&gt;
	&lt;Sip
		method="POST"
		url="/handle_screening_on_answer"&gt;
		sip:alice@example.com?customheader=foo
	&lt;/Sip&gt;
	&lt;/Dial&gt;
&lt;/Response&gt;


</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2847"/>3.10. Hangup</h2></div></div></div><p>The &lt;Hangup&gt; verb ends a call.</p><p><strong>Nesting. </strong>The &lt;Hangup&gt; verb can not have any other verbs or nouns nested.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Hangup&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Hangup/&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2864"/>3.11. Redirect</h2></div></div></div><p>The &lt;Redirect&gt; verb transfers control of a call to the RCML at a different URL.
			All verbs after &lt;Redirect&gt; are unreachable and ignored.</p><div class="table"><a id="d0e2869"/><p class="title"><strong>Table 3.25. Redirect Attributes</strong></p><div class="table-contents"><table summary="Redirect Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">method</td><td align="left">GET, POST</td><td align="left">POST</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>method. </strong>The 'method' attribute takes the value 'GET' or 'POST'. This tells RestComm whether to
	    		request the URL via HTTP GET or POST. </p><p><strong>Nesting. </strong>The &lt;Redirect&gt; verb can not have any other verbs or nouns nested.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Redirect&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Redirect&gt;http://foobar.com/instructions&lt;/Redirect&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2909"/>3.12. Reject</h2></div></div></div><p>The &lt;Reject&gt; verb rejects an incoming call to your RestComm endpoint. This is useful for blocking unwanted calls.
			If the first verb in a RCML response is &lt;Reject&gt;, RestComm will not pick up the call. The call ends with a status of
			'busy' or 'no-answer', depending on the verb's 'reason' attribute. Any verbs after &lt;Reject&gt; are unreachable and ignored.</p><div class="table"><a id="d0e2914"/><p class="title"><strong>Table 3.26. Reject Attributes</strong></p><div class="table-contents"><table summary="Reject Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">reason</td><td align="left">rejected, busy</td><td align="left">rejected</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>reason. </strong>The reason attribute takes the values "rejected" and "busy." This tells RestComm what message to play when
	    		rejecting a call. Selecting "busy" will play a busy signal to the caller, while selecting "rejected" will
	    		play a standard not-in-service response.</p><p><strong>Nesting. </strong>The &lt;Reject&gt; verb can not have any other verbs or nouns nested.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Reject&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Reject reason="busy"/&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2954"/>3.13. Pause</h2></div></div></div><p>The &lt;Pause&gt; verb waits silently for a specific number of seconds. If &lt;Pause&gt; is the first verb
			in a RCML response, RestComm will wait the specified number of seconds before picking up the call.</p><div class="table"><a id="d0e2959"/><p class="title"><strong>Table 3.27. Pause Attributes</strong></p><div class="table-contents"><table summary="Pause Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">length</td><td align="left">integer &gt; 0</td><td align="left">1 second</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>length. </strong>The 'length' attribute specifies how many seconds RestComm will wait silently before continuing on.</p><p><strong>Nesting. </strong>The &lt;Pause&gt; verb can not have any other verbs or nouns nested.</p><p><strong>Examples. </strong>For an example of how to use the &lt;Pause&gt; verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
		&lt;Response&gt;
			&lt;Pause length="5"/&gt;
		&lt;/Response&gt;
		</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e2999"/>3.14. UssdCollect</h2></div></div></div><p>The UssdCollect verb is a USSD integration with Restcomm resource. When fully configured with a USSD gateway, Restcomm will send all UssdMessage to the configured gateway</p><p><strong>Example. </strong>For an example of how to use the USSDCollect verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
	
	&lt;Response&gt;
		&lt;UssdCollect action="http://my.controller.net"&gt;
			&lt;UssdMessage&gt; 1 for first option&lt;/UssdMessage&gt;
			&lt;UssdMessage&gt; 2 for first option&lt;/UssdMessage&gt;
			&lt;UssdMessage&gt; 3 for first option&lt;/UssdMessage&gt;
		&lt;/UssdCollect&gt;
	&lt;/Response&gt;
	
		</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3011"/>3.14.1. UssdMessage</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>
Before you can send an USSD message you must first configure the restcomm.xml with the USSD gateway information. See <a class="xref" href="#ussdpush-api" title="4.13. UssdPush">Section 4.13, “UssdPush”</a> for more information.
</p></div><p>The UssdMessage verb contains the message that Restcomm will send to the USSD gateway</p><p><strong>Nesting. </strong>The UssdMessage can be nested inside of the USSDCollect verb.</p><p><strong>Examples. </strong>For an example of how to use the USSDCollect verb see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
	
	&lt;Response&gt;
		&lt;UssdMessage&gt;Test USSD Message&lt;/UssdMessage&gt;&lt;/UssdCollect&gt;
	&lt;/Response&gt;
	
		</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3033"/>3.14.2. Language</h3></div></div></div><p>The language noun let you specify the language of the USSD message that is sent to the USSD gateway</p><div class="table"><a id="d0e3038"/><p class="title"><strong>Table 3.28. Language Attributes</strong></p><div class="table-contents"><table summary="Language Attributes" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="center">Name</th><th align="center">Allowed Values</th><th align="center">Default Value</th></tr></thead><tbody><tr><td align="left">Language</td><td align="left">bf, bp, en, en-gb,cf, cs, dan, fi es, fr, de, el, it, nl, no, pl, pt, ru, ar, ca, sv, th, tr</td><td align="left">en</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Nesting. </strong>The Language noun cannot be nested. If not specified, English language is default</p><p><strong>Example. </strong>For an example of how to use the USSD Language noun see below.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
	
	&lt;Response&gt;
		&lt;Language&gt;fr&lt;/Language&gt;
		&lt;UssdMessage&gt;Test USSD Message&lt;/UssdMessage&gt;&lt;/UssdCollect&gt;
	&lt;/Response&gt;
	
		</pre></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="restful-api"/>Chapter 4. Restful APIs</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e3096">4.1. Accounts</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3154">4.1.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e3228">4.1.2. Account List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3298">4.2. AvailablePhoneNumbers</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3371">4.2.1. Supported Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3409">4.3. Gateways</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3467">4.3.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e3506">4.3.2. Examples</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3529">4.4. Clients</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3649">4.4.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e3730">4.4.2. Client List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3851">4.5. IncomingPhoneNumbers</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3974">4.5.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4070">4.5.2. IncomingPhoneNumber List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4197">4.6. Calls</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4315">4.6.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4323">4.6.2. Call List Resource</a></span></dt><dt><span class="section"><a href="#d0e4331">4.6.3. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4440">4.6.4. REST API: Modifying Live Calls</a></span></dt><dt><span class="section"><a href="#d0e4536">4.6.5. List Filter</a></span></dt><dt><span class="section"><a href="#d0e4593">4.6.6. Paging Information</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4698">4.7. SMS Messages</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4781">4.7.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4789">4.7.2. SMS Message List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4892">4.8. Recordings</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4957">4.8.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e4970">4.8.2. Recording List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5002">4.9. Transcriptions</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5070">4.9.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e5083">4.9.2. Transcription List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5099">4.10. Notifications</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5207">4.10.1. Supported Operations</a></span></dt><dt><span class="section"><a href="#d0e5215">4.10.2. Notification List Resource</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5231">4.11. OutboundProxy</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5241">4.11.1. Supported Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5263">4.12. OutboundProxy</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5273">4.12.1. Supported Operations</a></span></dt></dl></dd><dt><span class="section"><a href="#ussdpush-api">4.13. UssdPush</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5305">4.13.1. Supported Operations</a></span></dt></dl></dd></dl></div><p>The RestComm Restufl APIs are very similar to Twilio's and allow
		you to query meta-data about your account, phone numbers,
		calls, text
		messages, and recordings. Through the Restful API you can also
		start
		outbound calls and send text messages.</p><p><strong>Resource Encoding. </strong>When an HTTP client makes a request to RestComm for a resource
			the HTTP client has the option to pick which encoding
			is used for the
			response. Currently, RestComm supports XML and JSON
			encoding. The
			default encoding is XML but
			to receive the resource in JSON just
			append .json to the end of the
			resource name.</p><p><strong>User Authentication. </strong>Before accepting any Restful API call, Restcomm will
			authenticate the request source using either a valid Account SID or
			an Email Account combined with an Authentication Token.
		See below for the default Administrator account.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


{AccountSID}:{AuthToken}
ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166 

		</pre><p>


		or

		</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


{AccountEmail}:{AuthToken}
administrator@company.com:77f8c12cc7b8f8423e5c38b035249166

		</pre><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3096"/>4.1. Accounts</h2></div></div></div><p>Accounts and sub-accounts are useful for things like segmenting
			phone numbers and usage data for your users and
			controlling access to
			data.</p><p><strong>Account Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}</p><div class="table"><a id="d0e3106"/><p class="title"><strong>Table 4.1. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this account.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this account was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this account was last updated.</td></tr><tr><td align="left">FriendlyName</td><td align="left">A description of this account, up to 64 characters long. By
							default
							the FriendlyName is your email address.</td></tr><tr><td align="left">Status</td><td align="left">The status of this account. Possible values are active,
							suspended, and closed.</td></tr><tr><td align="left">AuthToken</td><td align="left">The authorization token for this account. This should not
							be shared.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this account, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3154"/>4.1.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of an Account resource, including
					the properties above.</p><p/><p><strong>Account Resource URI. </strong>/2012-04-24/Accounts/{EmailAddress}</p><p><strong>HTTP POST/PUT. </strong>Modifies an Account resource and returns the representation,
					including the properties above. Below
					you will find a list of
					optional parameters.</p><div class="table"><a id="d0e3173"/><p class="title"><strong>Table 4.2. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FriendlyName</td><td align="left">A description of this account, up to 64 characters long.</td></tr><tr><td align="left">Status</td><td align="left">The status of this account. Possible values are active,
								suspended, and closed.</td></tr><tr><td align="left">Password</td><td align="left">A password that will be used to generate the AuthToken for
								the new Account resource.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Get information about the default account. </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET  http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf


			</pre><p><strong>Change default account password(AuthToken). </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X PUT http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf -d "Password=NewPassword"


			</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Command line versus Browser</h2><p>
					The above command uses the Account SID and the one below uses the
					Email Account. Note the
					<code class="filename">administrator%40company.com</code>
					is used instead of
					<code class="filename">administrator@company.com</code>
					. This is because using curl on the bash terminal doesn't parse the
					@ correctlyl. If you were to running on a browser, you can safely
					use the @ as the web browser will correctly handle it.
				</p></div><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET  http://administrator%40company.com:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf

			</pre><p>The above commands will print an output similar to the one
				below:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


&lt;RestcommResponse&gt;
  &lt;Account&gt;
    &lt;Sid&gt;ACae6e420f425248d6a26948c17a9e2acf&lt;/Sid&gt;
    &lt;FriendlyName&gt;Default Administrator Account&lt;/FriendlyName&gt;
    &lt;Status&gt;active&lt;/Status&gt;
    &lt;Type&gt;Full&lt;/Type&gt;
    &lt;DateCreated&gt;2012-04-24T00:00:00.000-06:00&lt;/DateCreated&gt;
    &lt;DateUpdated&gt;2012-04-24T00:00:00.000-06:00&lt;/DateUpdated&gt;
    &lt;AuthToken&gt;77f8c12cc7b8f8423e5c38b035249166&lt;/AuthToken&gt;
    &lt;Uri&gt;/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf&lt;/Uri&gt;
    &lt;SubresourceUris&gt;
      &lt;AvailablePhoneNumbers&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/AvailablePhoneNumbers&lt;/AvailablePhoneNumbers&gt;
      &lt;Calls&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls&lt;/Calls&gt;
      &lt;Conferences&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Conferences&lt;/Conferences&gt;
      &lt;IncomingPhoneNumbers&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/IncomingPhoneNumbers&lt;/IncomingPhoneNumbers&gt;
      &lt;Notifications&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Notifications&lt;/Notifications&gt;
      &lt;OutgoingCallerIds&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/OutgoingCallerIds&lt;/OutgoingCallerIds&gt;
      &lt;Recordings&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Recordings&lt;/Recordings&gt;
      &lt;Sandbox&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Sandbox&lt;/Sandbox&gt;
      &lt;SMSMessages&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/SMS/Messages&lt;/SMSMessages&gt;
      &lt;Transcriptions&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Transcriptions&lt;/Transcriptions&gt;
    &lt;/SubresourceUris&gt;
  &lt;/Account&gt;


			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3228"/>4.1.2. Account List Resource</h3></div></div></div><p><strong>Account List Resource URI. </strong>/2012-04-24/Accounts</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e3236"/>4.1.2.1. Supported Operations</h4></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the Sub-Account
						resources for this Account, including the
						properties above.</p><p><strong>HTTP POST. </strong>Creates a new Sub-Account and returns the representation of
						the Sub-Account resource, including
						the properties above. Below you
						will find a list of required and
						optional parameters.</p><div class="table"><a id="d0e3249"/><p class="title"><strong>Table 4.3. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">EmailAddress(Required)</td><td align="left">The email address to use for this account.</td></tr><tr><td align="left">FriendlyName</td><td align="left">A description of this account, up to 64 characters long.
									Default, is your email address.</td></tr><tr><td align="left">Status</td><td align="left">The status of this account. Default is active, possible
									values are active, suspended, and closed.</td></tr><tr><td align="left">Password(Required)</td><td align="left">A password that will be used to generate the AuthToken
									for the new Account resource.</td></tr><tr><td align="left">Role(Required)</td><td align="left">The security role that this Account resource will use. If
									no role is provided then
									the role of the account resource
									creating this will be inherited
									to the new Account resource
									and
									may compromise the system.</td></tr></tbody></table></div></div><br class="table-break"/><p>Here is an example of how to createa a sub-account. The
					sub-account will inherit the same permissions has the
					Administrator's account.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


curl -X POST http://administrator%40company.com:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ -d "FriendlyName=MySubAccount" -d "EmailAddress=test@telestax.com" -d "Password=restcomm"
 


				</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>About Sub-accounts </h2><p>Note that the SID, Email and the AuthToken (see output below)
						of the sub-account can now be used instead of the Administrator's
						account</p></div><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;RestcommResponse&gt;
  &lt;Account&gt;
    &lt;Sid&gt;AC3b8f0dd2e5026abde018446cbb3b185d&lt;/Sid&gt;
    &lt;FriendlyName&gt;MySubAccount&lt;/FriendlyName&gt;
    &lt;Status&gt;active&lt;/Status&gt;
    &lt;Type&gt;Full&lt;/Type&gt;
    &lt;DateCreated&gt;2013-10-16T09:22:28.708-06:00&lt;/DateCreated&gt;
    &lt;DateUpdated&gt;2013-10-16T09:22:28.712-06:00&lt;/DateUpdated&gt;
    &lt;AuthToken&gt;53134d7a9914e2b47c8435ebdb50ded3&lt;/AuthToken&gt;
    &lt;Uri&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d&lt;/Uri&gt;
    &lt;SubresourceUris&gt;
      &lt;AvailablePhoneNumbers&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/AvailablePhoneNumbers&lt;/AvailablePhoneNumbers&gt;
      &lt;Calls&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/Calls&lt;/Calls&gt;
      &lt;Conferences&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/Conferences&lt;/Conferences&gt;
      &lt;IncomingPhoneNumbers&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/IncomingPhoneNumbers&lt;/IncomingPhoneNumbers&gt;
      &lt;Notifications&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/Notifications&lt;/Notifications&gt;
      &lt;OutgoingCallerIds&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/OutgoingCallerIds&lt;/OutgoingCallerIds&gt;
      &lt;Recordings&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/Recordings&lt;/Recordings&gt;
      &lt;Sandbox&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/Sandbox&lt;/Sandbox&gt;
      &lt;SMSMessages&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/SMS/Messages&lt;/SMSMessages&gt;
      &lt;Transcriptions&gt;/restcomm/2012-04-24/Accounts/AC3b8f0dd2e5026abde018446cbb3b185d/Transcriptions&lt;/Transcriptions&gt;
    &lt;/SubresourceUris&gt;
  &lt;/Account&gt;


				</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3298"/>4.2. AvailablePhoneNumbers</h2></div></div></div><p>The AvailablePhoneNumbers subresources let you search for
			incoming local and toll-free phone numbers that are available
			for you
			to purchase from a TeleStax partner.</p><p><strong>AvailablePhoneNumbers List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/AvailablePhoneNumbers/US/Local</p><p><strong>Searching For Numbers. </strong>When using RestComm the way to search for new phone numbers is
				by searching
				the AvailablePhoneNumbers list resource and providing
				the desired area
				code as a filter.</p><div class="table"><a id="d0e3313"/><p class="title"><strong>Table 4.4. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FriendlyName</td><td align="left">A friendly version of the phone number.</td></tr><tr><td align="left">PhoneNumber</td><td align="left">The phone number, in E.164 format.</td></tr><tr><td align="left">Lata</td><td align="left">The LATA for this phone number.</td></tr><tr><td align="left">RateCenter</td><td align="left">The rate center for this phone number.</td></tr><tr><td align="left">Latitude</td><td align="left">The latitude coordinate for this phone number.</td></tr><tr><td align="left">Longitude</td><td align="left">The longitude coordinate for this phone number.</td></tr><tr><td align="left">Region</td><td align="left">The two-letter state or province abbreviation for this
							phone number.</td></tr><tr><td align="left">PostalCode</td><td align="left">The zip code for this phone number.</td></tr><tr><td align="left">IsoCountry</td><td align="left">The ISO country code for this phone number..</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3371"/>4.2.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of an AvailablePhoneNumber
					resource, including the properties above.</p><div class="table"><a id="d0e3379"/><p class="title"><strong>Table 4.5. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">AreaCode</td><td align="left">A three digit area code inside the U.S.</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Querying Available Phone Numbers</h2><p>
					You need to be using RestComm for VoIP Innovations in order to be
					able to use this feature. See here for more details
					<a class="ulink" href="www.telestax.com/online-documentation"> RestComm AMI for VoIP Innovation</a>

				</p></div><p>Here is an example, the AreaCode is any valid United States
				Code</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


curl -G http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@&lt;Elastic_IP&gt;:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/AvailablePhoneNumbers/US/Local -d "AreaCode=305"


			</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3409"/>4.3. Gateways</h2></div></div></div><p>The Gateways subresources let you create sip accounts that Restcomm will use to register itself to the Gateway and receive incoming traffic.
			</p><p><strong>Gatewat List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Management/Gateways</p><p><strong>Register Restcomm instance to a SIP Gateway. </strong>You might need to register Restcomm instnace to a SIP Gateway and receive incoming traffic from that gateway. 
			For that you need to use Gateway REST endpoint</p><div class="table"><a id="d0e3424"/><p class="title"><strong>Table 4.6. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FriendlyName</td><td align="left">A friendly version of the gateway.</td></tr><tr><td align="left">UserName</td><td align="left">The username that will be used to register to this gateway</td></tr><tr><td align="left">Password</td><td align="left">The password that will be used to register to this gateway</td></tr><tr><td align="left">Proxy</td><td align="left">The proxy address of the gateway</td></tr><tr><td align="left">Register</td><td align="left">Boolean flag to register or not the gateway</td></tr><tr><td align="left">TTL</td><td align="left">Time to live for the Register</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3467"/>4.3.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of a Gateway
					resource, including the properties above. Resource URI:  /2010-04-01/Accounts/{AccountSid}/Management/Gateways/{GatewaySid}</p><p><strong>HTTP POST. </strong>Creates a new Gateway
					resource and returns the representation of the resource, including the properties above. Resource URI:  /2010-04-01/Accounts/{AccountSid}/Management/Gateways</p><p><strong>HTTP POST/PUT. </strong>Update a Gateway
					resource and returns the representation of the resource, including the properties above. Resource URI:  /2010-04-01/Accounts/{AccountSid}/Management/Gateways/{GatewaySid}</p><p><strong>HTTP DELETE. </strong>Deletes a Gateway resource. Resource URI:  /2010-04-01/Accounts/{AccountSid}/Management/Gateways/{GatewaySid}</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3506"/>4.3.2. Examples</h3></div></div></div><p><strong>Create a new Gateway. </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@&lt;RESTCOMM_IP&gt;:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Management/Gateways -d "FriendlyName=mygateway" -d "UserName=username" -d "Password=password" -d "Proxy=my.gateway.com" -d "Register=true" -d "TTL=3600"


			</pre><p><strong>Get a list of available Gateways. </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


curl -G http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@&lt;RESTCOMM_IP&gt;:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Management/Gateways


			</pre><p><strong>Update an existing Gateway. </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@&lt;RESTCOMM_IP&gt;:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Management/Gateways/GW106bc6f34bd24790a435eaeccc1aed72 -d "FriendlyName=MyGatewayNewName" -d "UserName=newUserName"


			</pre><p><strong>Delete an existing Gateway. </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


curl -X DELETE http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@&lt;RESTCOMM_IP&gt;:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Management/Gateways/GW1cffb069192a45f2b5f5af2e76489550


			</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3529"/>4.4. Clients</h2></div></div></div><p>An Client instance resource represents a user agent registered
			with RestComm.</p><p><strong>Client Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Clients/{ClientSid}</p><p><strong>Using SIP User Agents. </strong>When using RestComm to handle SIP user agent you have to create
				a new Client resource,
				this resource acts as an account for your user
				agent and also dictates
				how calls made by the
				user agent should be
				handled.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Client without VoiceUrl</h2><p>Restcomm has a new implied behavior when VoiceUrl is not
					provided for a Client account. Restcomm will proxy calls from such
					Clients to the destination Client (only if registered) or to the
					destination Application DID.
				</p><p>
					Only registered Clients are allowed to use the B2BUA/P2P/Proxy
					functionalities of Restcomm. Proxying and P2P calls are only
					allowed between registered(authenticated) Clients.</p></div><div class="table"><a id="d0e3551"/><p class="title"><strong>Table 4.7. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this client.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this client was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this clientr was last updated.</td></tr><tr><td align="left">FriendlyName</td><td align="left">A friendly name for this client.</td></tr><tr><td align="left">AccountSid</td><td align="left">The unique id of the Account that owns this phone number.</td></tr><tr><td align="left">ApiVersion</td><td align="left">Calls to this phone number will create a new RCML session
							with this API version.</td></tr><tr><td align="left">Login</td><td align="left">The name that is used inside the &lt;Client&gt; noun. This
							is also used by
							the user agent as the user name used for
							registration and outbound
							dialing.</td></tr><tr><td align="left">Password</td><td align="left">The password used by the user agent during registration and
							outbound dialing.</td></tr><tr><td align="left">Status</td><td align="left">The client status the possible values are 0 for disabled
							and 1 for enabled.</td></tr><tr><td align="left">VoiceUrl</td><td align="left">The URL RestComm will request when this client makes an
							outbound call.</td></tr><tr><td align="left">VoiceMethod</td><td align="left">The HTTP method RestComm will use when requesting the above
							Url. Either GET or POST.</td></tr><tr><td align="left">VoiceFallbackUrl</td><td align="left">The URL that RestComm will request if execution of VoiceUrl
							fails for any reason.</td></tr><tr><td align="left">VoiceFallbackMethod</td><td align="left">The HTTP method RestComm will use when requesting the
							VoiceFallbackUrl. Either GET or POST.</td></tr><tr><td align="left">VoiceApplicationSid</td><td align="left">If this entry contains an Sid to a voice application then
							RestComm will ignore these voice URLs
							and use the voice URLs
							specified by the voice application.</td></tr><tr><td align="left">StatusCallback</td><td align="left">The URL that RestComm will request to pass status
							parameters (such as the call state) to your
							application.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method RestComm will use to make requests to the
							StatusCallback URL. Either GET or POST.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this Client, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3649"/>4.4.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of an Client resource, including
					the properties above.</p><p><strong>HTTP POST/PUT. </strong>Modifies a Client resource and returns the representation,
					including the properties above. Below
					you will find a list of
					optional parameters.</p><div class="table"><a id="d0e3662"/><p class="title"><strong>Table 4.8. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FriendlyName</td><td align="left">A formatted version of this phone number.</td></tr><tr><td align="left">Password</td><td align="left">The password used by the user agent during registration
								and outbound dialing.</td></tr><tr><td align="left">Status</td><td align="left">The client status the possible values are 0 for disabled
								and 1 for enabled.</td></tr><tr><td align="left">VoiceUrl</td><td align="left">The URL RestComm will request when this phone number
								receives a call.</td></tr><tr><td align="left">VoiceMethod</td><td align="left">The HTTP method RestComm will use when requesting the
								above Url. Either GET or POST.</td></tr><tr><td align="left">VoiceFallbackUrl</td><td align="left">The URL that RestComm will request if execution of
								VoiceUrl fails for any reason.</td></tr><tr><td align="left">VoiceFallbackMethod</td><td align="left">The HTTP method RestComm will use when requesting the
								VoiceFallbackUrl. Either GET or POST.</td></tr><tr><td align="left">VoiceApplicationSid</td><td align="left">If this entry contains an Sid to a voice application then
								RestComm will ignore these voice URLs
								and use the voice URLs
								specified by the voice application.</td></tr><tr><td align="left">StatusCallback</td><td align="left">The URL that RestComm will request to pass status
								parameters (such as the call state) to your
								application.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method RestComm will use to make requests to the
								StatusCallback URL. Either GET or POST.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>HTTP DELETE. </strong>Deletes a Client from the user's Account.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3730"/>4.4.2. Client List Resource</h3></div></div></div><p><strong>Client List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Clients</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e3738"/>4.4.2.1. Supported Operations</h4></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the Client resources
						for this Account, including the
						properties above.</p><p><strong>HTTP POST. </strong>Creates a new Client and returns the representation of the
						resource, including
						the properties above. Below you will find a
						list of required and
						optional parameters.</p><div class="table"><a id="d0e3751"/><p class="title"><strong>Table 4.9. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FriendlyName</td><td align="left">A formatted version of this phone number.</td></tr><tr><td align="left">Login</td><td align="left">The name that is used inside the &lt;Client&gt; noun.
									This is also used by
									the user agent as the user name used for
									registration and outbound
									dialing.</td></tr><tr><td align="left">Password</td><td align="left">The password used by the user agent during registration
									and outbound dialing.</td></tr><tr><td align="left">Status</td><td align="left">The client status the possible values are 0 for disabled
									and 1 for enabled.</td></tr><tr><td align="left">VoiceUrl</td><td align="left">The URL RestComm will request when this phone number
									receives a call.</td></tr><tr><td align="left">VoiceMethod</td><td align="left">The HTTP method RestComm will use when requesting the
									above Url. Either GET or POST.</td></tr><tr><td align="left">VoiceFallbackUrl</td><td align="left">The URL that RestComm will request if execution of
									VoiceUrl fails for any reason.</td></tr><tr><td align="left">VoiceFallbackMethod</td><td align="left">The HTTP method RestComm will use when requesting the
									VoiceFallbackUrl. Either GET or POST.</td></tr><tr><td align="left">VoiceApplicationSid</td><td align="left">If this entry contains an Sid to a voice application then
									RestComm will ignore these voice URLs
									and use the voice URLs
									specified by the voice application.</td></tr><tr><td align="left">StatusCallback</td><td align="left">The URL that RestComm will request to pass status
									parameters (such as the call state) to your
									application.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method RestComm will use to make requests to the
									StatusCallback URL. Either GET or POST.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Create a Client. </strong>The client name will be Alice as shown below</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


 curl -X POST  http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Clients.json -d "Login=alice" -d "Password=test" 

				</pre><p>The output of the command will be similar to the one below</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


{
  "sid": "CL4e10e3b56a614414bcc1eeca5d96effe",
  "date_created": "2013-10-16T08:51:32.460-06:00",
  "date_updated": "2013-10-16T08:51:32.460-06:00",
  "account_sid": "ACae6e420f425248d6a26948c17a9e2acf",
  "api_version": "2012-04-24",
  "friendly_name": "alice",
  "login": "alice",
  "password": "test",
  "status": "1",
  "voice_method": "POST",
  "voice_fallback_method": "POST",
  "uri": "/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Clients/CL4e10e3b56a614414bcc1eeca5d96effe.json"


				</pre><p><strong>Delete a Client. </strong>You must use the Client SID</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X DELETE http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Clients/CL4e10e3b56a614414bcc1eeca5d96effe

				</pre><p><strong>Change Client's Password. </strong>You must use the Client SID as shown below:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X PUT http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Clients/CL4e10e3b56a614414bcc1eeca5d96effe -d "Password=NewPassword"

				</pre><p><strong>Get List of available Clients. </strong>The command below shows all Clients created using the default
						Admin Account</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Clients/

				</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e3851"/>4.5. IncomingPhoneNumbers</h2></div></div></div><p>An IncomingPhoneNumber instance resource represents a RestComm
			phone number.</p><p><strong>IncomingPhoneNumber Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/IncomingPhoneNumbers/{IncomingPhoneNumberSid}</p><p><strong>Binding a Phone Number to an Application. </strong>When using RestComm the way to bind a phone number to an
				application is be creating
				a new IncomingPhoneNumber resource and
				providing the VoiceUrl to your
				application.</p><div class="table"><a id="d0e3866"/><p class="title"><strong>Table 4.10. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this incoming phone
							number.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this incoming phone number was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this incoming phone number was last updated.</td></tr><tr><td align="left">FriendlyName</td><td align="left">A formatted version of this phone number.</td></tr><tr><td align="left">AccountSid</td><td align="left">The unique id of the Account that owns this phone number.</td></tr><tr><td align="left">PhoneNumber</td><td align="left">The incoming phone number in E.164 format ex. +2223334444</td></tr><tr><td align="left">ApiVersion</td><td align="left">Calls to this phone number will create a new RCML session
							with this API version.</td></tr><tr><td align="left">VoiceCallerIdLookup</td><td align="left">Look up the caller's caller-ID name. Either true or false.</td></tr><tr><td align="left">VoiceUrl</td><td align="left">The URL RestComm will request when this phone number
							receives a call.</td></tr><tr><td align="left">VoiceMethod</td><td align="left">The HTTP method RestComm will use when requesting the above
							Url. Either GET or POST.</td></tr><tr><td align="left">VoiceFallbackUrl</td><td align="left">The URL that RestComm will request if execution of VoiceUrl
							fails for any reason.</td></tr><tr><td align="left">VoiceFallbackMethod</td><td align="left">The HTTP method RestComm will use when requesting the
							VoiceFallbackUrl. Either GET or POST.</td></tr><tr><td align="left">StatusCallback</td><td align="left">The URL that RestComm will request to pass status
							parameters (such as the call state) to your
							application.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method RestComm will use to make requests to the
							StatusCallback URL. Either GET or POST.</td></tr><tr><td align="left">SmsUrl</td><td align="left">The URL that RestComm will request when receiving an
							incoming SMS message to this number.
							This may not be supported.
							Please consult with your DID provider.</td></tr><tr><td align="left">SmsMethod</td><td align="left">The HTTP method RestComm will use when making requests to
							the SmsUrl. Either GET or POST.</td></tr><tr><td align="left">SmsFallbackUrl</td><td align="left">The URL that RestComm will request if SmsUrl fail for any
							reason. Please see SmsUrl
							as this feature may not be supported.</td></tr><tr><td align="left">SmsFallbackMethod</td><td align="left">The HTTP method RestComm will use when making requests to
							SmsFallbackUrl. Either GET or POST.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this incoming phone number, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e3974"/>4.5.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of an IncomingPhoneNumber resource,
					including the properties above.</p><p><strong>HTTP POST/PUT. </strong>Modifies an IncomingPhoneNumber resource and returns the
					representation, including the properties above. Below
					you will find
					a list of optional parameters.</p><div class="table"><a id="d0e3987"/><p class="title"><strong>Table 4.11. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FriendlyName</td><td align="left">A formatted version of this phone number.</td></tr><tr><td align="left">ApiVersion</td><td align="left">Calls to this phone number will create a new RCML session
								with this API version.</td></tr><tr><td align="left">VoiceCallerIdLookup</td><td align="left">Look up the caller's caller-ID name. Either true or false.</td></tr><tr><td align="left">VoiceUrl</td><td align="left">The URL RestComm will request when this phone number
								receives a call.</td></tr><tr><td align="left">VoiceMethod</td><td align="left">The HTTP method RestComm will use when requesting the
								above Url. Either GET or POST.</td></tr><tr><td align="left">VoiceFallbackUrl</td><td align="left">The URL that RestComm will request if execution of
								VoiceUrl fails for any reason.</td></tr><tr><td align="left">VoiceFallbackMethod</td><td align="left">The HTTP method RestComm will use when requesting the
								VoiceFallbackUrl. Either GET or POST.</td></tr><tr><td align="left">StatusCallback</td><td align="left">The URL that RestComm will request to pass status
								parameters (such as the call state) to your
								application.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method RestComm will use to make requests to the
								StatusCallback URL. Either GET or POST.</td></tr><tr><td align="left">SmsUrl</td><td align="left">The URL that RestComm will request when receiving an
								incoming SMS message to this number.
								This may not be supported.
								Please consult with your DID provider.</td></tr><tr><td align="left">SmsMethod</td><td align="left">The HTTP method RestComm will use when making requests to
								the SmsUrl. Either GET or POST.</td></tr><tr><td align="left">SmsFallbackUrl</td><td align="left">The URL that RestComm will request if SmsUrl fail for any
								reason. Please see SmsUrl
								as this feature may not be supported.</td></tr><tr><td align="left">SmsFallbackMethod</td><td align="left">The HTTP method RestComm will use when making requests to
								SmsFallbackUrl. Either GET or POST.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>HTTP DELETE. </strong>Releases an IncomingPhoneNumber from the user's Account.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4070"/>4.5.2. IncomingPhoneNumber List Resource</h3></div></div></div><p><strong>IncomingPhoneNumber List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/IncomingPhoneNumbers</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e4078"/>4.5.2.1. Supported Operations</h4></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the
						IncomingPhoneNumber resources for this Account, including the
						properties above.</p><p><strong>HTTP POST. </strong>Creates a new IncomingPhoneNumber and returns the
						representation of the resource, including
						the properties above.
						Below you will find a list of required and
						optional parameters.</p><div class="table"><a id="d0e4091"/><p class="title"><strong>Table 4.12. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">PhoneNumber(Required)</td><td align="left">The phone number you want to provision.</td></tr><tr><td align="left">FriendlyName</td><td align="left">A formatted version of this phone number.</td></tr><tr><td align="left">ApiVersion</td><td align="left">Calls to this phone number will create a new RCML session
									with this API version.</td></tr><tr><td align="left">VoiceCallerIdLookup</td><td align="left">Look up the caller's caller-ID name. Either true or
									false.</td></tr><tr><td align="left">VoiceUrl</td><td align="left">The URL RestComm will request when this phone number
									receives a call.</td></tr><tr><td align="left">VoiceMethod</td><td align="left">The HTTP method RestComm will use when requesting the
									above Url. Either GET or POST.</td></tr><tr><td align="left">VoiceFallbackUrl</td><td align="left">The URL that RestComm will request if execution of
									VoiceUrl fails for any reason.</td></tr><tr><td align="left">VoiceFallbackMethod</td><td align="left">The HTTP method RestComm will use when requesting the
									VoiceFallbackUrl. Either GET or POST.</td></tr><tr><td align="left">StatusCallback</td><td align="left">The URL that RestComm will request to pass status
									parameters (such as the call state) to your
									application.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method RestComm will use to make requests to the
									StatusCallback URL. Either GET or POST.</td></tr><tr><td align="left">SmsUrl</td><td align="left">The URL that RestComm will request when receiving an
									incoming SMS message to this number.
									This may not be supported.
									Please consult with your DID provider.</td></tr><tr><td align="left">SmsMethod</td><td align="left">The HTTP method RestComm will use when making requests to
									the SmsUrl. Either GET or POST.</td></tr><tr><td align="left">SmsFallbackUrl</td><td align="left">The URL that RestComm will request if SmsUrl fail for any
									reason. Please see SmsUrl
									as this feature may not be supported.</td></tr><tr><td align="left">SmsFallbackMethod</td><td align="left">The HTTP method RestComm will use when making requests to
									SmsFallbackUrl. Either GET or POST.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Attach a phone number to an application. </strong>This one uses the default application</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X POST  http://administrator%40company.com:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/IncomingPhoneNumbers.json -d "PhoneNumber=1234" -d "VoiceUrl=http://127.0.0.1:8080/restcomm/demos/hello-play.xml"

				</pre><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

Result of the above command

{
  "sid": "PNdd7a0a0248244615978bd5781598e5eb",
  "account_sid": "ACae6e420f425248d6a26948c17a9e2acf",
  "friendly_name": "234",
  "phone_number": "+1234",
  "voice_url": "http://127.0.0.1:8080/restcomm/demos/hello-play.xml",
  "voice_method": "POST",
  "voice_fallback_method": "POST",
  "status_callback_method": "POST",
  "voice_caller_id_lookup": false,
  "date_created": "2013-10-04T17:42:02.500-06:00",
  "date_updated": "2013-10-04T17:42:02.500-06:00",
  "sms_method": "POST",
  "sms_fallback_method": "POST",
  "api_version": "2012-04-24",
  "uri": "/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/IncomingPhoneNumbers/PNdd7a0a0248244615978bd5781598e5eb.json"


				</pre><p><strong>Delete a phone number. </strong>You have to get the SID of the phone and use curl to delete
						as follows</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X DELETE http://administrator%40company.com:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/IncomingPhoneNumbers/PNdd7a0a0248244615978bd5781598e5eb

				</pre><p><strong>List of phone numbers. </strong>Gets all numbers created using IncomingPhoneNumbers.json</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET  http://administrator%40company.com:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/IncomingPhoneNumbers.json

				</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e4197"/>4.6. Calls</h2></div></div></div><p>A Call represents a connection between a phone or user agent and
			RestComm. This may be inbound
			or outbound. The Calls list resource
			represents the set of phone calls
			originated and terminated from
			an
			account.</p><p><strong>Call Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Calls/{CallSid}</p><div class="table"><a id="d0e4207"/><p class="title"><strong>Table 4.13. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this call.</td></tr><tr><td align="left">ParentCallSid</td><td align="left">A string that uniquely identifies the call that created
							this leg.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this call was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this call was last updated.</td></tr><tr><td align="left">AccountSid</td><td align="left">The unique id of the Account that created this call.</td></tr><tr><td align="left">To</td><td align="left">The phone number or identifier that will be the recipient
							of this call.</td></tr><tr><td align="left">From</td><td align="left">The phone number or identifier that originated this call.</td></tr><tr><td align="left">PhoneNumberSid</td><td align="left">If the call was inbound, this is the Sid of the
							IncomingPhoneNumber that received the call.</td></tr><tr><td align="left">Status</td><td align="left">A string representing the status of the call. Possible
							values are queued, ringing, in-progress, completed,
							failed, busy
							and no-answer.</td></tr><tr><td align="left">StartTime</td><td align="left">The start time of the call. Empty if the call has not yet
							been started.</td></tr><tr><td align="left">EndTime</td><td align="left">The end time of the call. Empty if the call has not ended..</td></tr><tr><td align="left">Duration</td><td align="left">The length of the call in seconds.</td></tr><tr><td align="left">Price</td><td align="left">The charge for this call, in the currency associated with
							the account. Populated after the call is completed.</td></tr><tr><td align="left">Direction</td><td align="left">A string describing the direction of the call. Possible
							values are inbound, outbound-api,
							and outbound-dial</td></tr><tr><td align="left">AnsweredBy</td><td align="left">If this call was initiated with answering machine
							detection, either human or machine. Empty otherwise.</td></tr><tr><td align="left">ApiVersion</td><td align="left">Displays the current API version</td></tr><tr><td align="left">ForwardFrom</td><td align="left">If this call was an incoming call forwarded from another
							number, the forwarding phone number (depends on carrier
							supporting forwarding). Empty otherwise.</td></tr><tr><td align="left">CallerName</td><td align="left">If this call was an incoming call, the caller's name. Empty
							otherwise.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this account, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4315"/>4.6.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of a Call resource, including the
					properties above.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4323"/>4.6.2. Call List Resource</h3></div></div></div><p><strong>Call List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Calls</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4331"/>4.6.3. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the Call resources for
					this Account, including the
					properties above.</p><p><strong>HTTP POST. </strong>Makes a new Call and returns the representation of the Call
					resource, including
					the properties above. Below you will find a list
					of required and optional parameters.</p><div class="table"><a id="d0e4344"/><p class="title"><strong>Table 4.14. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">From(Required)</td><td align="left">The phone number to use as the caller id.</td></tr><tr><td align="left">To(Required)</td><td align="left">The phone number to call.</td></tr><tr><td align="left">Url(Required)</td><td align="left">The fully qualified URL that should be executed when the
								call connects.</td></tr><tr><td align="left">Method</td><td align="left">The HTTP method RestComm should use when making its
								request to the above Url. Defaults to POST.</td></tr><tr><td align="left">FallbackUrl</td><td align="left">The URL that RestComm will request if execution of Url
								fails for any reason.</td></tr><tr><td align="left">FallbackMethod</td><td align="left">The HTTP method that RestComm should use to request the
								FallbackUrl. Must be either GET or POST.
								Defaults to POST.</td></tr><tr><td align="left">StatusCallback</td><td align="left">A URL that RestComm will request when the call ends to
								notify your app.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method RestComm should use when requesting the
								above StatusCallback. Defaults to POST.</td></tr><tr><td align="left">Timeout</td><td align="left">The number of seconds that RestComm should allow the phone
								to ring before
								assuming there is no answer. The default is 60
								seconds.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Making a call to a SIP account. </strong></p><p>Restcomm will make a call to any SIP account that is reachable.
				It the example below, the SIP account is listening on port 5060.
				When you make the call, the SIP phone on which Alice is registered
				will ring and the hello-play.xml file will be played.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls.json -d "From=+16175551212" -d "To=sip:alice@127.0.0.1:5060" -d "Url=http://127.0.0.1:8080/restcomm/demos/hello-play.xml"


			</pre><p><strong>Making a call to a Restcomm client. </strong></p><p>You must first create a RestComm client. In the example below,
				the Restcomm client created is called Alice. When you make the call,
				the SIP phone on which Alice is registered will ring and the
				hello-play.xml file will be played.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls.json -d "From=+16175551212" -d "To=client:alice" -d "Url=http://127.0.0.1:8080/restcomm/demos/hello-play.xml"


			</pre><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Calling a DID number</h2><p>
					The above example shows how to make a call to a SIP number. If you
					want to make a call to a DID number, you must can connect Restcomm
					to a DID provisioning service provider. The quickest way is to use
					<a class="ulink" href="http://www.telestax.com/voip-innovations-offers-restcomm/">RestComm AMI for Voice Innovation</a>
				</p></div><p><strong>Get a list of all available calls. </strong>This will return all the available calls linked to the account
					SID</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Working on a production server</h2><p>Using filter is a good practice on a server with thousands or
					millions of calls</p></div><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET  http://administrator%40company.com:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls


			</pre><p>If the system hasn't received any calls, you will see the the
				output below</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;RestcommResponse&gt;
  &lt;Calls page="0" numpages="0" pagesize="50" total="0" start="0" end="0" uri="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls" firstpageuri="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?Page=0&amp;amp;PageSize=50" previouspageuri="null" nextpageuri="null" lastpageuri=="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?Page=0&amp;amp;PageSize=50"/&gt;


			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4440"/>4.6.4. REST API: Modifying Live Calls</h3></div></div></div><p>
				Realtime call modification allows you to interrupt an
				in-progress call and
				terminate it or have it begin processing RCML
				from a new URL. This
				is useful for any application where you want to
				asynchronously
				change the behavior of a running call. For example:
				hold music, call
				queues, transferring calls, forcing hangup, etc.
			</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e4445"/>4.6.4.1. HTTP POST to a Call</h4></div></div></div><p><strong>Client List Resource URI. </strong></p><p>
					To redirect or terminate a live call, you make an HTTP POST
					request
					to an in-progress Call instance resource URI:
				</p><p>/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}</p></div><p><strong>POST Parameters. </strong></p><p>
				The following parameters are available for you to POST when
				modifying a
				phone call:
			</p><div class="table"><a id="d0e4460"/><p class="title"><strong>Table 4.15. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Url</td><td align="left">A valid URL that returns TwiML. Twilio will immediately
								redirect the call to the new TwiML.</td></tr><tr><td align="left">Method</td><td align="left">The HTTP method Twilio should use when requesting the
								above URL. Defaults to POST.</td></tr><tr><td align="left">Status</td><td align="left">Either canceled or completed. Specifying canceled will
								attempt to hangup calls that are queued or ringing but not
								affect calls already in progress. Specifying completed will
								attempt to hang up a call even if it's already in progress.</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Call in-Progress</h2><p>
					Note that any call which is currently ringing within a Dial
					verb is
					in-progress from the point of view of Restcomm, and thus you
					must
					use 'Status=completed' to cancel it.
				</p></div><p><strong>Optional Parameters. </strong>
					You may POST the following parameters:
				</p><div class="table"><a id="d0e4498"/><p class="title"><strong>Table 4.16. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">FallbackUrl</td><td align="left">A URL that Twilio will request if an error occurs
								requesting or executing the TwiML at Url.</td></tr><tr><td align="left">FallbackMethod</td><td align="left">The HTTP method that Twilio should use to request the
								FallbackUrl. Must be either GET or POST. Defaults to POST.</td></tr><tr><td align="left">StatusCallback</td><td align="left">A URL that Twilio will request when the call ends to
								notify your app.</td></tr><tr><td align="left">StatusCallbackMethod</td><td align="left">The HTTP method Twilio should use when requesting the
								above URL. Defaults to POST.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e4531"/>4.6.4.2. Modifying Live Calls - Example</h4></div></div></div><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

 Modifying a Live Call 

In order to accomplish this, you need to create a client called alice
Start a SIP phone and register alice
From the terminal run the following curl command
Make sure alice is using the port 5061
The "From=" could be any number of your choice
The Url is the default sample example provided with Restcomm

curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls.json -d "From=+16175551212" -d "To=sip:alice@127.0.0.1:5061" -d "Url=http://127.0.0.1:8080/restcomm/demos/hello-play.xml"

You will see an output similar to the one below:

{
  "sid": "CAfa51b104354440b09213d04752f50271",
  "date_created": "2013-11-01T03:41:14.488-06:00",
  "date_updated": "2013-11-01T03:41:14.488-06:00",
  "account_sid": "ACae6e420f425248d6a26948c17a9e2acf",
  "to": "alice",
  "from": "+16175551212",
  "status": "queued",
  "start_time": "2013-11-01T03:41:14.488-06:00",
  "price": "0.0",
  "direction": "outbound-api",
  "api_version": "2012-04-24",
  "uri": "/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAfa51b104354440b09213d04752f50271.json",
  "subresource_uris": {
    "notifications": "/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAfa51b104354440b09213d04752f50271/Notifications",
    "recordings": "/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAfa51b104354440b09213d04752f50271/Recordings"
  }


Notice the "sid": "CAfa51b104354440b09213d04752f50271",
This Call ID is what you must use to interact with the current call.
You can now redirect the current call to another application as shown below
Notice that the Call ID is referenced
The call will now be redirected to the Url specified(hello-world.xml)


curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAfa51b104354440b09213d04752f50271 -d "Url=http://127.0.0.1:8080/restcomm/demos/hello-world.xml"

The output showing the same Call ID

&lt;RestcommResponse&gt;
  &lt;Call&gt;
    &lt;Sid&gt;CAfa51b104354440b09213d04752f50271&lt;/Sid&gt;
    &lt;DateCreated&gt;2013-11-01T03:41:14.488-06:00&lt;/DateCreated&gt;
    &lt;DateUpdated&gt;2013-11-01T03:41:14.488-06:00&lt;/DateUpdated&gt;
    &lt;ParentCallSid/&gt;
    &lt;AccountSid&gt;ACae6e420f425248d6a26948c17a9e2acf&lt;/AccountSid&gt;
    &lt;To&gt;alice&lt;/To&gt;
    &lt;From&gt;+16175551212&lt;/From&gt;
    &lt;PhoneNumberSid/&gt;
       ..... TRUNCATED


You can still redirect the current call back to the previous application


curl -X POST http://ACae6e420f425248d6f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAfa51b104354440b09213d04752f50271 -d "Url=http://127.0.0.1:8080/restcomm/demos/hello-play.xml"

The output showing the same Call ID

&lt;RestcommResponse&gt;
  &lt;Call&gt;
    &lt;Sid&gt;CAfa51b104354440b09213d04752f50271&lt;/Sid&gt;
    &lt;DateCreated&gt;2013-11-01T03:41:14.488-06:00&lt;/DateCreated&gt;
    &lt;DateUpdated&gt;2013-11-01T03:41:14.488-06:00&lt;/DateUpdated&gt;
    &lt;ParentCallSid/&gt;
    &lt;AccountSid&gt;ACae6e420f425248d6a26948c17a9e2acf&lt;/AccountSid&gt;
    &lt;To&gt;alice&lt;/To&gt;
    &lt;From&gt;+16175551212&lt;/From&gt;
    &lt;PhoneNumberSid/&gt;
   ..... TRUNCATED


You can end the call using the Status=completed command as shown below

curl -X POST http://ACae6e420f425248d6f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAfa51b104354440b09213d04752f50271 -d "Status=completed"

The output showing the same Call ID

&lt;RestcommResponse&gt;
  &lt;Call&gt;
    &lt;Sid&gt;CAfa51b104354440b09213d04752f50271&lt;/Sid&gt;
    &lt;DateCreated&gt;2013-11-01T03:41:14.488-06:00&lt;/DateCreated&gt;
    &lt;DateUpdated&gt;2013-11-01T03:41:14.488-06:00&lt;/DateUpdated&gt;
    &lt;ParentCallSid/&gt;
    &lt;AccountSid&gt;ACae6e420f425248d6a26948c17a9e2acf&lt;/AccountSid&gt;
    &lt;To&gt;alice&lt;/To&gt;
    &lt;From&gt;+16175551212&lt;/From&gt;
    &lt;PhoneNumberSid/&gt;
   ..... TRUNCATED


				</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4536"/>4.6.5. List Filter</h3></div></div></div><p><strong>HTTP GET. </strong>The following GET query string parameters allow you to limit
					the list returned. Note, parameters are case-sensitive:</p><div class="table"><a id="d0e4544"/><p class="title"><strong>Table 4.17. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">To </td><td align="left">Only show calls to this phone number or Client identifier.</td></tr><tr><td align="left">From </td><td align="left">Only show calls from this phone number or Client
								identifier.</td></tr><tr><td align="left">Status</td><td align="left">Only show calls currently in this status. May be queued,
								ringing, in-progress, canceled, completed, failed, busy, or
								no-answer.</td></tr><tr><td align="left">StartTime</td><td align="left">Only show calls that started on this date, given as
								YYYY-MM-DD. Also supports inequalities, such as
								StartTime=YYYY-MM-DD for calls that started at or before
								midnight on a date, and StartTime=YYYY-MM-DD for calls that
								started at or after midnight on a date.</td></tr><tr><td align="left">ParentCallSid</td><td align="left">Only show calls spawned by the call with this Sid.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Filter using the From parameter. </strong>The example below will only return Calls made from client
					Alice</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

 curl -X GET  http://administrator%40company.com:77f8c12cc7166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?From=alice

			</pre><p>The result will be similar to the one below</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;RestcommResponse&gt;
  &lt;Calls page="0" numpages="0" pagesize="50" total="0" start="0" end="1" uri="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls" firstpageuri="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?Page=0&amp;amp;PageSize=50" previouspageuri="null" nextpageuri="null" lastpageuri=="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?Page=0&amp;amp;PageSize=50"&gt;
    &lt;Call&gt;
      &lt;Sid&gt;CAc0fb839632cf444f9066876d5de741e0&lt;/Sid&gt;
      &lt;DateCreated&gt;2013-10-18T04:51:47.643-06:00&lt;/DateCreated&gt;
      &lt;DateUpdated&gt;2013-10-18T04:51:49.174-06:00&lt;/DateUpdated&gt;
      &lt;ParentCallSid/&gt;
      &lt;AccountSid&gt;ACae6e420f425248d6a26948c17a9e2acf&lt;/AccountSid&gt;
      &lt;To&gt;1234&lt;/To&gt;
      &lt;From&gt;alice&lt;/From&gt;
      &lt;PhoneNumberSid/&gt;
      &lt;Status&gt;completed&lt;/Status&gt;
      &lt;StartTime&gt;2013-10-18T04:51:47.671-06:00&lt;/StartTime&gt;
      &lt;EndTime&gt;2013-10-18T04:51:49.174-06:00&lt;/EndTime&gt;
      &lt;Duration&gt;1&lt;/Duration&gt;
      &lt;Price&gt;0.00&lt;/Price&gt;
      &lt;Direction&gt;inbound&lt;/Direction&gt;
      &lt;AnsweredBy/&gt;
      &lt;ApiVersion&gt;2012-04-24&lt;/ApiVersion&gt;
      &lt;ForwardedFrom/&gt;
      &lt;CallerName/&gt;
      &lt;Uri&gt;/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAc0fb839632cf444f9066876d5de741e0&lt;/Uri&gt;
      &lt;SubresourceUris&gt;
        &lt;Notifications&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAc0fb839632cf444f9066876d5de741e0/Notifications&lt;/Notifications&gt;
        &lt;Recordings&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CAc0fb839632cf444f9066876d5de741e0/Recordings&lt;/Recordings&gt;
      &lt;/SubresourceUris&gt;
    &lt;/Call&gt;
  &lt;/Calls&gt;


			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4593"/>4.6.6. Paging Information</h3></div></div></div><p><strong>HTTP GET. </strong>The following GET query string parameters allow you to limit
					the list returned. Note, parameters are case-sensitive:</p><div class="table"><a id="d0e4601"/><p class="title"><strong>Table 4.18. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Page </td><td align="left">The current page number. Zero-indexed, so the first page
								is 0.</td></tr><tr><td align="left">NumPages</td><td align="left">The total number of pages.</td></tr><tr><td align="left">PageSize</td><td align="left">How many items are in each page</td></tr><tr><td align="left">Total</td><td align="left">The total number of items in the list.</td></tr><tr><td align="left">Start</td><td align="left">The position in the overall list of the first item in this
								page.</td></tr><tr><td align="left">End</td><td align="left">The position in the overall list of the last item in this
								page.</td></tr></tbody></table></div></div><br class="table-break"/><p><strong>Example. </strong>The command below will return a single item from the list of
					calls using the PageSize parameter</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET  http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?PageSize=1


			</pre><p>The result of the PageSize parameter</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;RestcommResponse&gt;
  &lt;Calls page="0" numpages="7" pagesize="1" total="7" start="0" end="0" uri="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls" firstpageuri="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?Page=0&amp;amp;PageSize=1" previouspageuri="null" nextpageuri="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?Page=1&amp;amp;PageSize=1&amp;amp;AfterSid=CA4049cf008d6b4277b92ab863fd4ec7c8" lastpageuri=="/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls?Page=7&amp;amp;PageSize=1"&gt;
    &lt;Call&gt;
      &lt;Sid&gt;CA4049cf008d6b4277b92ab863fd4ec7c8&lt;/Sid&gt;
      &lt;DateCreated&gt;2013-10-18T04:49:45.942-06:00&lt;/DateCreated&gt;
      &lt;DateUpdated&gt;2013-10-18T04:49:46.272-06:00&lt;/DateUpdated&gt;
      &lt;ParentCallSid/&gt;
      &lt;AccountSid&gt;ACae6e420f425248d6a26948c17a9e2acf&lt;/AccountSid&gt;
      &lt;To&gt;1235&lt;/To&gt;
      &lt;From&gt;bob&lt;/From&gt;
      &lt;PhoneNumberSid/&gt;
      &lt;Status&gt;completed&lt;/Status&gt;
      &lt;StartTime&gt;2013-10-18T04:49:45.994-06:00&lt;/StartTime&gt;
      &lt;EndTime&gt;2013-10-18T04:49:46.272-06:00&lt;/EndTime&gt;
      &lt;Duration&gt;0&lt;/Duration&gt;
      &lt;Price&gt;0.00&lt;/Price&gt;
      &lt;Direction&gt;inbound&lt;/Direction&gt;
      &lt;AnsweredBy/&gt;
      &lt;ApiVersion&gt;2012-04-24&lt;/ApiVersion&gt;
      &lt;ForwardedFrom/&gt;
      &lt;CallerName/&gt;
      &lt;Uri&gt;/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CA4049cf008d6b4277b92ab863fd4ec7c8&lt;/Uri&gt;
      &lt;SubresourceUris&gt;
        &lt;Notifications&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CA4049cf008d6b4277b92ab863fd4ec7c8/Notifications&lt;/Notifications&gt;
        &lt;Recordings&gt;/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/CA4049cf008d6b4277b92ab863fd4ec7c8/Recordings&lt;/Recordings&gt;
      &lt;/SubresourceUris&gt;
    &lt;/Call&gt;
  &lt;/Calls&gt;



			</pre><p><strong>Additional Paging Information. </strong>The API returns URIs to the next, previous, first and last
					pages of the returned list as shown in the table below:</p><div class="table"><a id="d0e4660"/><p class="title"><strong>Table 4.19. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Uri</td><td align="left">The URI of the current page.</td></tr><tr><td align="left">Firstpageuri</td><td align="left">The URI for the first page of this list.</td></tr><tr><td align="left">Nextpageuri</td><td align="left">The URI for the next page of this list.</td></tr><tr><td align="left">Previouspageuri</td><td align="left">The URI for the previous page of this list.</td></tr><tr><td align="left">Lastpageuri</td><td align="left">The URI for the last page of this list.</td></tr></tbody></table></div></div><br class="table-break"/></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e4698"/>4.7. SMS Messages</h2></div></div></div><p>An SMS Message resource represents an inbound or outbound SMS
			message.</p><p><strong>SMS Message Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/SMS/Messages/{SMSMessageSid}</p><div class="table"><a id="d0e4708"/><p class="title"><strong>Table 4.20. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this SMS Message.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this SMS Message was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this SMS Message was last updated.</td></tr><tr><td align="left">DateSent</td><td align="left">The date that the SMS was sent or received by RestComm.</td></tr><tr><td align="left">AccountSid</td><td align="left">The unique id of the Account that sent or received this SMS
							message.</td></tr><tr><td align="left">From</td><td align="left">The phone number or short code that initiated the message.</td></tr><tr><td align="left">To</td><td align="left">The phone number or short code that received the message.</td></tr><tr><td align="left">Body</td><td align="left">The text body of the SMS message. Up to 160 characters
							long.</td></tr><tr><td align="left">Status</td><td align="left">The status of this SMS message. Possible values are queued,
							sending, sent, failed, and received.</td></tr><tr><td align="left">Direction</td><td align="left">The direction of this SMS message. Possible values are
							incoming, outbound-api, outbound-call.</td></tr><tr><td align="left">ApiVersion</td><td align="left">The API version RestComm used to handle the SMS message.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this account, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4781"/>4.7.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of an SMS Message resource,
					including the properties above.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4789"/>4.7.2. SMS Message List Resource</h3></div></div></div><p><strong>SMS Message List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/SMS/Messages</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e4797"/>4.7.2.1. Supported Operations</h4></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the Call resources for
						this Account, including the
						properties above.</p><p><strong>HTTP POST. </strong>Sends a new SMS Message and returns the representation of the
						SMS Message resource, including
						the properties above. Below you
						will find a list of required and
						optional parameters.</p><div class="table"><a id="d0e4810"/><p class="title"><strong>Table 4.21. Request Parameters</strong></p><div class="table-contents"><table summary="Request Parameters" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Parameter</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">From(Required)</td><td align="left">A phone number that is enabled for SMS. </td></tr><tr><td align="left">To(Required)</td><td align="left">The destination phone number in E.164 format.</td></tr><tr><td align="left">Body(Required)</td><td align="left">The text of the message you want to send, limited to 160
									characters.</td></tr><tr><td align="left">Custom headers X- (optional)</td><td align="left">Optionally you can provide as many custom headers as you
									wish. The custom headers must start with X-,
									for example "X-MyCustom-Header=My custom header value"</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Using custom headers</h2><p>
						These additional headers will be part of the SIP MESSAGE that Restcomm will create and dispatch to the SMS Aggregator.
					</p></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Using SMS and making DID calls</h2><p>
						You need to configure Restcomm to send SMS messages and DID phone
						calls to a Service Provider for provisioning. In the
						<code class="filename">restcomm.xml</code>
						file, the outbound-proxy-uri and the SMS outbound-endpoint must
						point to the Service Provider IP address. You may also decide to
						use
						<a class="ulink" href="http://www.telestax.com/docs/">Restcomm AMI.</a>
					</p></div><p><strong>Send SMS Messages. </strong></p><p>
					Note the encoding used
					<code class="filename">%2B13216549878</code>
					instead of the
					<code class="filename">+13216549878</code>
					The + sign is encoded to to send SMS from the command line.
				</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>"From" DID number</h2><p>
						The "From" number should be the DID SMS enabled number from
						VoIP
						Innovations.
					</p></div><p>From the bash terminal, you can run the command below:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/SMS/Messages -d "To=%2B13216549878" -d "From=%2B19876543212" -d "Body=This is a test from RestComm"


				</pre><p>To send the same SMS but this time also provide some additional headers:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X POST http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/SMS/Messages -d "To=%2B13216549878" -d "From=%2B19876543212" -d "Body=This is a test from RestComm" -d "X-MyCustomHeader-1=Value1" -d "X-MyCustomHeader-2=Value2" 


				</pre><p><strong>Get list of SMS Messages. </strong></p><p>This will display list of message sent</p><p>From the bash terminal, you can run the command below:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/SMS/Messages  


				</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e4892"/>4.8. Recordings</h2></div></div></div><p>Recordings are generated when you use the &lt;Record&gt; verb.
			Those recordings are hosted with RestComm for you to retrieve.
			The
			Recordings list resource represents the set of an account's
			recordings.</p><p><strong>Recording Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Recordings/{RecordingSid}</p><p>To download the audio file just append .wav after the
			RecordingSid.</p><div class="table"><a id="d0e4904"/><p class="title"><strong>Table 4.22. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this recording.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this recording was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this recording was last updated.</td></tr><tr><td align="left">AccountSid</td><td align="left">The unique id of the Account that created this recording.</td></tr><tr><td align="left">CallSid</td><td align="left">The unique id of the call during which the recording was
							made.</td></tr><tr><td align="left">Duration</td><td align="left">The length of the recording, in seconds.</td></tr><tr><td align="left">ApiVersion</td><td align="left">The API version in use during the recording.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this account, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4957"/>4.8.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of a Recording resource, including
					the properties above.</p><p><strong>HTTP DELETE. </strong>Removes the recording from the account.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e4970"/>4.8.2. Recording List Resource</h3></div></div></div><p><strong>Recording List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Recordings</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e4978"/>4.8.2.1. Supported Operations</h4></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the Recording
						resources for this Account, including the
						properties above.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>How to Record a Message</h2><p>
						Go to the Advanced Chapter under
						<a class="xref" href="#record-verb" title="7.1.2. Record Verb">Section 7.1.2, “Record Verb”</a>
						section to learn how to record a message.
					</p></div><p><strong>Get List of Recordings. </strong></p><p>The list of recorded wav files can be found in the directory
					$RESTCOMM_HOME/standalone/deployments/restcomm.war/recordings/
				</p><p>From the bash terminal, you can run the command below:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X GET  http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Recordings


				</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5002"/>4.9. Transcriptions</h2></div></div></div><p>A Transcription resource represents a transcription of a
			recording. A transcription is a text version of
			a recording produced
			using automatic speech recognition.</p><p><strong>Transcription Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Transcriptions/{TranscriptionSid}</p><div class="table"><a id="d0e5012"/><p class="title"><strong>Table 4.23. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this transcription.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this transcription was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this transcription was last updated.</td></tr><tr><td align="left">AccountSid</td><td align="left">The unique id of the Account that created this
							transcription.</td></tr><tr><td align="left">Status</td><td align="left">A string representing the status of the transcription.
							Possible values are in-progress, completed,
							and failed.</td></tr><tr><td align="left">RecordingSid</td><td align="left">The unique id of the Recording this Transcription was made
							of.</td></tr><tr><td align="left">Duration</td><td align="left">The duration of the transcribed audio, in seconds.</td></tr><tr><td align="left">TranscriptionText</td><td align="left">The text content of the transcription.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this account, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5070"/>4.9.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of a Transcription resource,
					including the properties above.</p><p><strong>HTTP DELETE. </strong>Removes the Transcription from the account.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5083"/>4.9.2. Transcription List Resource</h3></div></div></div><p><strong>Transcription List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Transcriptions</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e5091"/>4.9.2.1. Supported Operations</h4></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the Transcription
						resources for this Account, including the
						properties above.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5099"/>4.10. Notifications</h2></div></div></div><p>A Notification resource represents a single log entry made by
			RestComm while handling your calls or your use of the
			Restful APIs. It
			is very useful for debugging purposes. The Notifications
			list resource
			represents the set of notifications
			generated for an account.</p><p><strong>Notification Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Notifications/{NotificationSid}</p><div class="table"><a id="d0e5109"/><p class="title"><strong>Table 4.24. Resource Properties</strong></p><div class="table-contents"><table summary="Resource Properties" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Property</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">Sid</td><td align="left">A string that uniquely identifies this transcription.</td></tr><tr><td align="left">DateCreated</td><td align="left">The date that this transcription was created.</td></tr><tr><td align="left">DateUpdated</td><td align="left">The date that this transcription was last updated.</td></tr><tr><td align="left">AccountSid</td><td align="left">The unique id of the Account that created this
							transcription.</td></tr><tr><td align="left">CallSid</td><td align="left">CallSid is the unique id of the call during which the
							notification was generated. Empty if the
							notification was
							generated by the Restful APIs without regard to a specific
							phone
							call.</td></tr><tr><td align="left">ApiVersion</td><td align="left">The RestComm API version in use when this notification was
							generated. May be empty for events
							that don't have a specific API
							version.</td></tr><tr><td align="left">Log</td><td align="left">An integer log level corresponding to the type of
							notification: 0 is ERROR, 1 is WARNING.</td></tr><tr><td align="left">ErrorCode</td><td align="left">A unique error code for the error condition. You can lookup
							errors, in our Error Dictionary.</td></tr><tr><td align="left">MoreInfo</td><td align="left">A URL for more information about the error condition. The
							URL is a page in our Error Dictionary.</td></tr><tr><td align="left">MessageText</td><td align="left">The text for the notification.</td></tr><tr><td align="left">MessageDate</td><td align="left">The date the notification was actually generated</td></tr><tr><td align="left">RequestUrl</td><td align="left">The URL of the resource that caused the notification to be
							generated.</td></tr><tr><td align="left">RequestMethod</td><td align="left">The HTTP method in use for the request that caused the
							notification to be generated.</td></tr><tr><td align="left">RequestVariables</td><td align="left">The HTTP GET or POST variables that RestComm generated and
							sent to your server. Also, if the
							notification was generated by
							the Restful APIs, this field will include any
							HTTP POST or PUT
							variables
							you sent.</td></tr><tr><td align="left">ResponseHeaders</td><td align="left">The HTTP headers returned by your server.</td></tr><tr><td align="left">ResponseBody</td><td align="left">The HTTP body returned by your server.</td></tr><tr><td align="left">Uri</td><td align="left">The URI for this account, relative to
							http://localhost:port/restcomm.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5207"/>4.10.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the representation of a Notification resource,
					including the properties above.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5215"/>4.10.2. Notification List Resource</h3></div></div></div><p><strong>Notification List Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/Notifications</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="d0e5223"/>4.10.2.1. Supported Operations</h4></div></div></div><p><strong>HTTP GET. </strong>Returns the list representation of all the Notification
						resources for this Account, including the
						properties above.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5231"/>4.11. OutboundProxy</h2></div></div></div><p>Using Outbound proxy endpoint you can get the details of Primary
			and Backup outbound proxy,
			get the current active outbound proxy and
			also switch outbound proxy.</p><p><strong>OutboundProxy Resource URI. </strong>/2012-04-24//Accounts/{accountSid}/OutboundProxy</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5241"/>4.11.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the list of outbound proxies.</p><p><strong>HTTP GET. </strong>/2012-04-24//Accounts/{accountSid}/OutboundProxy/switchProxySwitch the outbound proxy and returns the proxy in use</p><p><strong>HTTP GET. </strong>/2012-04-24//Accounts/{accountSid}/OutboundProxy/getActiveProxyReturns the currently active outbound proxy</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5263"/>4.12. OutboundProxy</h2></div></div></div><p>Using Outbound proxy endpoint you can get the details of Primary
			and Backup outbound proxy,
			get the current active outbound proxy and
			also switch outbound proxy.</p><p><strong>OutboundProxy Resource URI. </strong>/2012-04-24//Accounts/{accountSid}/OutboundProxy</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5273"/>4.12.1. Supported Operations</h3></div></div></div><p><strong>HTTP GET. </strong>Returns the list of outbound proxies.</p><p><strong>HTTP GET. </strong>/2012-04-24//Accounts/{accountSid}/OutboundProxy/switchProxySwitch the outbound proxy and returns the proxy in use</p><p><strong>HTTP GET. </strong>/2012-04-24//Accounts/{accountSid}/OutboundProxy/getActiveProxyReturns the currently active outbound proxy</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ussdpush-api"/>4.13. UssdPush</h2></div></div></div><p>A UssdPush resource represents a message sent from Restcomm to a
			USSD gateway.</p><p><strong>UssdPush Resource URI. </strong>/2012-04-24/Accounts/{AccountSid}/UssdPush</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5305"/>4.13.1. Supported Operations</h3></div></div></div><p><strong>HTTP POST. </strong>Sends a Ussd message to the configured USSD Gataeway</p></div><p><strong>Example of UssdPush. </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

		

		The USSD gateway to which Restcomm must send the UssdMessage must be configured in the restcomm.xml file. IP address and port must be configured. Username/password for the USSD are optional.

		&lt;!-- TelScale USSD Gateway --&gt;
		&lt;ussd-gateway&gt;
		&lt;ussd-gateway-uri&gt;IP_USSD_GW:PORT_NUMBER&lt;/ussd-gateway-uri&gt;
		&lt;ussd-gateway-user&gt;&lt;/ussd-gateway-user&gt;
		&lt;ussd-gateway-password&gt;&lt;/ussd-gateway-password&gt;
		&lt;/ussd-gateway&gt;




		See below a curl example for the USSD Push:

		curl -X POST -H "application/json" http://ACae6e420f425248d6a26948c17a9e2acf:YOUR_PWD@RESTCOMM_IP_ADDRESS:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a-d "From=Restcomm" -d "To=123" -d "Url=http://RESTCOMM_IP_ADDRESS:8080/restcomm-rvd/services/apps/YOUR_USSD_APP/controller"
			

			</pre></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="d0e5319"/>Chapter 5. Restcomm Admin User Interface</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e5328">5.1. Login Interface</a></span></dt><dt><span class="section"><a href="#d0e5340">5.2. Passwords, Sub Accounts Settings</a></span></dt><dt><span class="section"><a href="#d0e5396">5.3. Dashboard</a></span></dt><dt><span class="section"><a href="#d0e5454">5.4. Restcomm Numbers</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5500">5.4.1. Register Number</a></span></dt><dt><span class="section"><a href="#d0e5555">5.4.2. Edit Update Number</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e5601">5.5. SIP Clients</a></span></dt><dt><span class="section"><a href="#d0e5657">5.6. Outgoing CallerId</a></span></dt><dt><span class="section"><a href="#d0e5662">5.7. Logs</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5667">5.7.1. Logs - Calls</a></span></dt><dt><span class="section"><a href="#d0e5675">5.7.2. Logs - Messages</a></span></dt><dt><span class="section"><a href="#d0e5683">5.7.3. Logs - Recordings</a></span></dt><dt><span class="section"><a href="#d0e5691">5.7.4. Logs - Transcriptions</a></span></dt><dt><span class="section"><a href="#d0e5701">5.7.5. Logs - Notifications</a></span></dt></dl></dd></dl></div><p>
The admin user interface is a great way to perform repetive Restcomm task in a orderly manner. Care has been taken to make the user experience intuitive for those new to the platform. In this chapter, you will learn how to use some of the features available to create Clients, Phone Numbers, Check Call Logs, Get Speech-to-Text Transcription and many more
</p><p>Please also visit the official Telestax documentation page for more usage tutorials:<a class="ulink" href="http://www.telestax.com/docs">http://www.telestax.com/docs</a></p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5328"/>5.1. Login Interface</h2></div></div></div><p>
You need to make sure Restcomm is running before you can use the Admin User Interface. When you are running on a local install, open your web browser and go to this url
 <a class="ulink" href="http://127.0.0.1:8080/restcomm-management">http://127.0.0.1:8080/restcomm-management </a>. You will see a screenshot similar to the one below
</p><p> 
Please see the <a class="xref" href="#change-default-login" title="2.2. Login into Restcomm and Changing the Default Password">Section 2.2, “Login into Restcomm and Changing the Default Password”</a> for more information about changing the default password.
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5340"/>5.2. Passwords, Sub Accounts Settings</h2></div></div></div><p>
When you click on the Administrators Account at the top right corner of the window, as shown in the screenshot below, you will be able to change your Administrators passwords and create Sub Accounts. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-12.png" align="middle"/></div><div class="table"><a id="d0e5348"/><p class="title"><strong>Table 5.1. Account Settings</strong></p><div class="table-contents"><table summary="Account Settings" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Number</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">Shows the current Acount profile</td></tr><tr><td align="left">2</td><td align="left">You can create new Sub Accounts</td></tr><tr><td align="left">3</td><td align="left">Descriptive name of the user account</td></tr><tr><td align="left">4</td><td align="left">New password of the current logged in account</td></tr><tr><td align="left">5</td><td align="left">You can activate or suspend an account</td></tr><tr><td align="left">6</td><td align="left">There are three options, Trial, Basic and Full(default)</td></tr><tr><td align="left">7</td><td align="left">List of Sub Accounts</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5396"/>5.3. Dashboard</h2></div></div></div><p>
This is the default page where you can get an overview of your Restcomm Installation.
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui6.png" align="middle"/></div><div class="table"><a id="d0e5404"/><p class="title"><strong>Table 5.2. Dashboard</strong></p><div class="table-contents"><table summary="Dashboard" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Number</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">Account SID is the default used by the Administrator's account</td></tr><tr><td align="left">2</td><td align="left">The Auth Token is the password that is required for any Restcomm operation. You can click on the hidden button to reveal the hashed password.</td></tr><tr><td align="left">3</td><td align="left">The Debugger lets you troubleshoot any issues you might encounter using Restcomm</td></tr><tr><td align="left">4</td><td align="left">A quick way to get all the API exposed by Restcomm</td></tr><tr><td align="left">5</td><td align="left">Additional information about Calls parsed by Restcomm</td></tr><tr><td align="left">6</td><td align="left">Additional information about SMS parsed by Restcomm</td></tr><tr><td align="left">7</td><td align="left">This will take you to the Restcomm Visual Designer (RVD) page located a <a class="ulink" href="http://127.0.0.1:8080/restcomm-rvd">http://127.0.0.1:8080/restcomm-rvd</a> </td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5454"/>5.4. Restcomm Numbers</h2></div></div></div><p>
This will show the default demo applications that come with Restcomm. When you start creating applications and attaching numbers, they will also be displayed on this page.
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-3.png" align="middle"/></div><div class="table"><a id="d0e5462"/><p class="title"><strong>Table 5.3. Restcomm Numbers</strong></p><div class="table-contents"><table summary="Restcomm Numbers" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Number</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">The number 1235 is attached to the hello-world.xml application. You must have configured VoiceRSS text-to-speech to use this application</td></tr><tr><td align="left">2</td><td align="left">The number 1236 is attached to a the Gather verb. It will ask you to enter a number and you can hear the number you enter. You must have configured VoiceRSS text-to-speech to use this application</td></tr><tr><td align="left">3</td><td align="left">The number 1234 plays a pre-recorded file.</td></tr><tr><td align="left">4</td><td align="left">This icon lets you edit the Name of the entry to a more descriptive one.</td></tr><tr><td align="left">5</td><td align="left">This button lets you create a new number that can be attached to a RCML</td></tr></tbody></table></div></div><br class="table-break"/><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5500"/>5.4.1. Register Number</h3></div></div></div><p>
When you click on the Register Number button, you will see a screenshot similar to the one below. This will allow you to create a new phone number that can be attached to a Restcomm application. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui5.png" align="middle"/></div><div class="table"><a id="d0e5508"/><p class="title"><strong>Table 5.4. Restcomm Numbers</strong></p><div class="table-contents"><table summary="Restcomm Numbers" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Number</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">The field to enter the phone number.</td></tr><tr><td align="left">2</td><td align="left">This button will show the Area Code. You must have Voip Innovations API account configured in the restcomm.xml file to use this feature. It will search for DID in the area code specified. At the moment, only US DIDs are available.</td></tr><tr><td align="left">3</td><td align="left">This button will show advanced options if you want to add more features to the phone number like the VoiceUrl</td></tr><tr><td align="left">4</td><td align="left">See the Rest API <a class="xref" href="#restful-api" title="Chapter 4. Restful APIs">Chapter 4, <em>Restful APIs</em></a>  for more information</td></tr><tr><td align="left">5</td><td align="left">This button will show available Restcomm Visual Designer (RVD) applications that can be linked to a phone number.</td></tr><tr><td align="left">6</td><td align="left">See the Rest API <a class="xref" href="#restful-api" title="Chapter 4. Restful APIs">Chapter 4, <em>Restful APIs</em></a>  for more information</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5555"/>5.4.2. Edit Update Number</h3></div></div></div><p>
Editing a phone number can be done by clicking on the number, the screenshot below shows how you can edit the number 1235. You can change the VoiceUrl to which the number is attached.  
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-5.png" align="middle"/></div><div class="table"><a id="d0e5563"/><p class="title"><strong>Table 5.5. Edit Update Numbers</strong></p><div class="table-contents"><table summary="Edit Update Numbers" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Number</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">You can link the phone number to a VoiceUrl application. See the REST API for more details.</td></tr><tr><td align="left">2</td><td align="left">You can link the phone number to a SMS application. See the REST API for more details</td></tr><tr><td align="left">3</td><td align="left">You can link the phone number to a USSD application. See the REST API for more details</td></tr><tr><td align="left">4</td><td align="left">Caller Id lookup requires a CNAM provier</td></tr><tr><td align="left">5</td><td align="left">You can save your changes or press close to discard the changes</td></tr></tbody></table></div></div><br class="table-break"/></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5601"/>5.5. SIP Clients</h2></div></div></div><p>
SIP Client is a feature that allows you to create a Restcomm profile that can be used for P2P or B2BUA calls. This will be empty until you create a new client. You can create a new client by clicking on the Resgister SIP Clent button.
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-6.png" align="middle"/></div><div class="table"><a id="d0e5609"/><p class="title"><strong>Table 5.6. SIP Clients</strong></p><div class="table-contents"><table summary="SIP Clients" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="center">Number</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">The client name. (ex. alice or bob)</td></tr><tr><td align="left">2</td><td align="left">The password that will be used to when you want to register the client with restcomm</td></tr><tr><td align="left">3</td><td align="left">Use to open optional parameters windows</td></tr><tr><td align="left">4</td><td align="left">This can be the full name of the client (ex.Alice Wilkinson) or any descriptive name</td></tr><tr><td align="left">5</td><td align="left">This is where you specify the VoiceUrl that is automatically invoked when the client is called. See the REST API for more details.</td></tr><tr><td align="left">6</td><td align="left">See the REST API for more details.</td></tr><tr><td align="left">7</td><td align="left">This will validate your changes and create the client.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5657"/>5.6. Outgoing CallerId</h2></div></div></div><p>
Will be available in future release
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5662"/>5.7. Logs</h2></div></div></div><p>
The log section gives you an overview of current Restcomm system information.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5667"/>5.7.1. Logs - Calls</h3></div></div></div><p>
A list of all calls that have been processed by Restcomm 
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-7.png" align="middle"/></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5675"/>5.7.2. Logs - Messages</h3></div></div></div><p>
A list of all SMS messages that have been processed by Restcomm 
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-8.png" align="middle"/></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5683"/>5.7.3. Logs - Recordings</h3></div></div></div><p>
A list of all Recordings (using the Record Verb) that have been processed by Restcomm 
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-9.png" align="middle"/></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5691"/>5.7.4. Logs - Transcriptions</h3></div></div></div><p>
A list of all Transcriptions that have (using the Transcribe parameters of the Record Verb) that have been processed by Restcomm. See the <a class="xref" href="#restful-api" title="Chapter 4. Restful APIs">Chapter 4, <em>Restful APIs</em></a> 
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-10.png" align="middle"/></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5701"/>5.7.5. Logs - Notifications</h3></div></div></div><p>
A list of all Notifications received by Restcomm. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-admin-ui-11.png" align="middle"/></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="d0e5710"/>Chapter 6. Restcomm Visual Designer</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e5719">6.1. Getting Started</a></span></dt><dt><span class="section"><a href="#d0e5730">6.2. Voice Projects</a></span></dt><dt><span class="section"><a href="#d0e5747">6.3. USSD Projects</a></span></dt><dt><span class="section"><a href="#d0e5764">6.4. SMS Projects</a></span></dt><dt><span class="section"><a href="#d0e5781">6.5. Demo Application</a></span></dt></dl></div><p>
Restcomm Visual Designer is a practical feature that lets you create applications easily using a GUI based interface.
</p><p>Please also visit the official Telestax documentation page for more usage tutorials:<a class="ulink" href="http://www.telestax.com/docs">http://www.telestax.com/docs</a></p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5719"/>6.1. Getting Started</h2></div></div></div><p>
In order to access the designer, open your web browser and go to this url <a class="ulink" href="http://127.0.0.1:8080/restcomm-rvd">http://127.0.0.1:8080/restcomm-rvd</a>. This page lets you select which type of project you will like to create. There are three options, Voice, USSD and SMS.
</p><div class="mediaobject" align="center"><img src="images/restcomm-RVD-voice1.png" align="middle"/></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5730"/>6.2. Voice Projects</h2></div></div></div><p>
In the screenshot below, some demo voice projects and you are also able to create a new project.
</p><div class="mediaobject" align="center"><img src="images/restcomm-RVD-voice2.png" align="middle"/></div><p>
In the screenshot below, you can see the main dashboard of the RVD voice project. It has a drag and drop feature. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-RVD-voice3.png" align="middle"/></div><p>Please also visit the official Telestax documentation page for more RVD usage tutorials:<a class="ulink" href="http://www.telestax.com/docs">http://www.telestax.com/docs</a></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5747"/>6.3. USSD Projects</h2></div></div></div><p>
The main page of the USSD Restcomm integration is similar to the screenshot below. You can create new projects or access existing projects from this window. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-RVD-ussd1.png" align="middle"/></div><p>
In the screenshot below, you can see the main dashboard of the USSD project. It has a drag and drop feature. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-RVD-ussd2.png" align="middle"/></div><p>Please also visit the official Telestax documentation page for more RVD USSD usage tutorials:<a class="ulink" href="http://www.telestax.com/docs">http://www.telestax.com/docs</a></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5764"/>6.4. SMS Projects</h2></div></div></div><p>
The main page of the SMS Restcomm integration is similar to the screenshot below. You can create new projects or access existing projects from this window. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-RVD-sms1.png" align="middle"/></div><p>
In the screenshot below, you can see the main dashboard of the SMS project. It has a drag and drop feature. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-RVD-sms2.png" align="middle"/></div><p>Please also visit the official Telestax documentation page for more RVD SMS usage tutorials:<a class="ulink" href="http://www.telestax.com/docs">http://www.telestax.com/docs</a></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5781"/>6.5. Demo Application</h2></div></div></div><p>
In this section, you will learn how to build a sample application.
</p><p>
Create a new project called Demo. The result will be similar to the screenshot below. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-rvd-demo.png" align="middle"/></div><p>
Press the save button and click on the Startup Url to make sure the project is correctly saved. The result will be similar to the screenshot below. 
</p><div class="mediaobject" align="center"><img src="images/restcomm-rvd-demo2.png" align="middle"/></div><p>
Next you need to go to the Restcomm Admin User Interface <a class="ulink" href="http://127.0.0.1:8080/restcomm-management/">http://127.0.0.1:8080/restcomm-management/</a> . Login and press the menu "Numbers", then press the button, "Register Number". You will see a window similar to the screenshot below. 
</p><p>
Leave Account SID as default. Enter a "Phone Number" you want to use. In the demo we shall be using 9999. 
</p><p>
Under "Voice" -&gt; Voice Request URL, click on the List icon to reveal the Demo application you created using the Restcomm Visual Designer. See screenshot below.
</p><p>
Press "Register" to save your work and return to the list of available phone numbers.
</p><div class="mediaobject" align="center"><img src="images/restcomm-rvd-demo3.png" align="middle"/></div><p>
You have just created a new phone number "9999" and have linked it to your Demo application. See below.
</p><div class="mediaobject" align="center"><img src="images/restcomm-rvd-demo4.png" align="middle"/></div><p>
You can then start a SIP phone to test your Demo application. Note that you must have enabled Text-to-speech for this application to work. See the Getting started chapter to learn how to configure VoiceRSS.
</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="advanced-examples"/>Chapter 7. Advanced RestComm Examples</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#d0e5823">7.1. Activating Text-to-Speech (TTS)</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e5838">7.1.1. Say Verb</a></span></dt><dt><span class="section"><a href="#record-verb">7.1.2. Record Verb</a></span></dt><dt><span class="section"><a href="#d0e5904">7.1.3. Dial Verb and Client</a></span></dt><dt><span class="section"><a href="#d0e5957">7.1.4. Dial Verb and Uri</a></span></dt><dt><span class="section"><a href="#d0e5967">7.1.5. Dial Verb and Conference</a></span></dt><dt><span class="section"><a href="#d0e5977">7.1.6. Gather Verb</a></span></dt></dl></dd></dl></div><p>
In this chapter, you will learn how to use more advanced features of Restcomm verbs to create communications applications
</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="d0e5823"/>7.1. Activating Text-to-Speech (TTS)</h2></div></div></div><p>
You must get an API key from <a class="ulink" href="http://www.voicerss.org/">http://www.voicerss.org</a> in order to proceed with this section. You can register for a free account and an API key will be emailed to you. Once you have the API key, open the <code class="filename">$RESTCOMM_HOME/standalone/deployments/restcomm.war/WEB-INF/conf/restcomm.xml</code> file and find the speech-synthesizer VoiceRSS section. Add your API key as shown below and restart RestComm
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;speech-synthesizer
		class="org.mobicents.servlet.restcomm.tts.VoiceRSSSpeechSynthesizer"&gt;
		&lt;service-root&gt;http://api.voicerss.org&lt;/service-root&gt;
		&lt;apikey&gt;2901c0aXXXXXXXXXXXXXX&lt;/apikey&gt;

</pre><p>
Once you have done that, you are ready to use Text-to-Speech feature of RestComm.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5838"/>7.1.1. Say Verb</h3></div></div></div><p>Create a file called test.xml in the <code class="filename">$RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/ </code> directory and copy the content of the application below into the <code class="filename"> test.xml</code>  file and save it</p><p>
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
        &lt;Say&gt;Welcome to RestComm, you have successfully tested the Say Verb&lt;/Say&gt;
&lt;/Response&gt;

</pre><p>
</p><p>From a command terminal run the Curl command below to bind the 5555 phone number to the test.xml file. </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

curl -X POST  http://ACae6e420f425248d6a26948c17a9e2acf:77f8c12cc7b8f8423e5c38b035249166@127.0.0.1:8080/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/IncomingPhoneNumbers.json -d "PhoneNumber=5555" -d "VoiceUrl=http://127.0.0.1:8080/restcomm/demos/test.xml"


</pre><p>If the command is successful, you will see an output similar to the following:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

{
  "sid": "PN0834628c131e4b66bc862ae0b21b7cfa",
  "account_sid": "ACae6e420f425248d6a26948c17a9e2acf",
  "friendly_name": "5555",
  "phone_number": "+15555",
  "voice_url": "http://127.0.0.1:8080/restcomm/demos/hello-play.xml",
  "voice_method": "POST",
  "voice_fallback_method": "POST",
  "status_callback_method": "POST",
  "voice_caller_id_lookup": false,
  "date_created": "2013-08-15T17:45:21.409-06:00",
  "date_updated": "2013-08-15T17:45:21.409-06:00",
  "sms_method": "POST",
  "sms_fallback_method": "POST",
  "api_version": "2012-04-24",
  "uri": "/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/IncomingPhoneNumbers/PN0834628c131e4b66bc862ae0b21b7cfa.json"

</pre><p>Next, you have to configure your SIP phone and make a call to the <code class="filename">test.xml</code> dialing number 5555</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Known Issues with some SIP Phones </h2><p>
Some SIP phones have been known to have codec problems and do not correctly render the application as desired. In this example, we shall be using Ekiga.
</p></div><p>
Start the SIP phone Ekiga (see below) and dial <code class="filename">5555@127.0.0.1:5080</code>. You will hear the content of the Say Verb in the <code class="filename">test.xml</code> file.
</p><div class="mediaobject" align="center"><img src="images/RestComm-ekiga-sip-phone-demo_5555.png" align="middle"/></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="record-verb"/>7.1.2. Record Verb</h3></div></div></div><p>Create a file called test.xml in the <code class="filename">$RESTCOMM_HOME/standalone/deployments/restcomm.war/demos/ </code> directory and copy the content of the application below into the <code class="filename"> test.xml</code>  file and save it. Dial the number 5555 and when you hear the beep sound, leave a message and hangup when you are finished. 
</p><p>
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
        &lt;Say&gt;Welcome to RestComm, leave a message after the beep&lt;/Say&gt;
	&lt;Record maxLength="30"/&gt;
&lt;/Response&gt;

</pre><p>
</p><p>
A wave file will be recorded and saved in the <code class="filename">$RESTCOMM_HOME/standalone/deployments/restcomm.war/recordings/ </code> directory. You can use any media player to listen to the recorded voice message.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5904"/>7.1.3. Dial Verb and Client</h3></div></div></div><p>
In order to use the Dial verb, you will need two users and register them to RestComm.
</p><p>Restcomm has already two users created for you for testing purposes, alice and bob</p><p><strong>Alice Restcomm client. </strong>
Username = alice / Password = 1234
</p><p><strong>Bob Restcomm client. </strong>
Username = bob / Password = 1234
</p><p><strong>Register Alice and Bob using softphone Sflphone. </strong></p><p>
In order to start two instances of Sflphone on the same computer, you need to start the second instance using <code class="filename">sudo Sflphone</code>.
</p><p>
When Sflphone is started, go to the the menu Edit-&gt;Accounts, then press the Add button
</p><p>
Fill out the configuration for Bob as shown in the screenshot below:
</p><p><strong>Sflphone Basic Configuration. </strong></p><div class="mediaobject" align="center"><img src="images/sflphone-config-basic.png" align="middle"/></div><p><strong>Sflphone Advanced Configuration. </strong>Make sure the port number is set to 5061</p><div class="mediaobject" align="center"><img src="images/sflphone-config-advanced.png" align="middle"/></div><p>
In the second instance of Sflphone, register user Alice following the same procedure used for Bob. In the Advanced settings, make sure the port number for user Alice is set to 5060
</p><p><strong>Copy the content of the application below into the test.xml file and save. . </strong></p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
        &lt;Say&gt;Welcome to RestComm, you are being forwarded to Alice&lt;/Say&gt;
	&lt;Dial callerid="+123456789"&gt;
	&lt;Client&gt;alice&lt;/Client&gt;
	&lt;/Dial&gt;
&lt;/Response&gt;

</pre><p>From the Sflphone registered with user Bob, make a call to Alice. Enter the name <code class="filename">alice</code>  and make the call</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5957"/>7.1.4. Dial Verb and Uri</h3></div></div></div><p>
Copy the Dial Uri application below to the <code class="filename">test.xml</code>. Remember that the port number for user Alice is 5060 and that is the port that is used in the application. If you want to use a different port, you also have to change the SIP Uri to reflect that. You can then make a call from user Bob to Alice.
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">


&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
        &lt;Say&gt;Welcome to RestCom, you are being forward to Alice&lt;/Say&gt;
	&lt;Dial callerid="+1234567899"&gt;
	&lt;Uri&gt;sip:alice@127.0.0.1:5060&lt;/Uri&gt;
	&lt;/Dial&gt;
 
&lt;/Response&gt;

</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5967"/>7.1.5. Dial Verb and Conference</h3></div></div></div><p>
Copy the Dial Conference application below to the <code class="filename">test.xml</code> and save the file. You can dial any number like 4321 and RestComm will read the Say verb and make a beep sound when you join the conference room. You can use another SIP phone to join the same conference. It works better if you are on a different computer as this reduces the echo generated from the microphones.
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
        &lt;Say&gt;Welcome to RestCom, you are now joining the conference room&lt;/Say&gt;
	&lt;Dial&gt;
	&lt;Conference&gt;test-conference&lt;/Conference&gt;
	&lt;/Dial&gt;
&lt;/Response&gt;

</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e5977"/>7.1.6. Gather Verb</h3></div></div></div><p>
This verb is used to get user input and instruct RestComm to perform a specific task. This example is a little bit more elaborate and it will require the creation of a php file. You also must host the php file on a web server like Apache. Copy the Gather application below into the <code class="filename">test.xml</code> and save the file.
</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
	 &lt;Gather action="http://127.0.0.1/test-user-input.php" numDigits="1"&gt;
		 &lt;Say&gt;Welcome to Telestax RestCom.&lt;/Say&gt;
		 &lt;Say&gt;For opening hours, press 1.&lt;/Say&gt;
		 &lt;Say&gt;to talk to Alice, press 2.&lt;/Say&gt;
	 &lt;/Gather&gt;
 &lt;!-- If customer doesn't input anything, prompt and try again. --&gt;
	 &lt;Say&gt;Sorry, I didn't get your response.&lt;/Say&gt;
	 &lt;Redirect&gt;http://127.0.0.1:8080/restcomm/demos/test.xml&lt;/Redirect&gt;
 &lt;/Response&gt;

</pre><p><strong>Create a php file in the Apache /var/www/html directory. </strong></p><p>You can use any web server of your choice, in this example, we shall be using Apache on a Linux computer</p><p>Start the httpd server as follows <code class="filename">sudo service httpd start</code></p><p>Create a new file called <code class="filename">test-user-input.php</code> in the /var/www/html directory</p><p>Copy the php application below into the <code class="filename">test-user-input.php</code> and save </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">

&lt;?php
    header('Content-type: text/xml');
    echo '&lt;?xml version="1.0" encoding="UTF-8"?&gt;';
 
    echo '&lt;Response&gt;';
 
    $user_input = (int) ($_POST['Digits']);
 
    if ($user_input == 1)
        
    {
         echo '&lt;Say&gt;Our Opening hours are 24 hours 7 Days a week &lt;/Say&gt;';
        echo '&lt;Say&gt;Telestax appreciates your business&lt;/Say&gt;';
        echo '&lt;Say&gt;You may Hang up or wait to be redirected to the main menu&lt;/Say&gt;';
        echo '&lt;Redirect&gt;http://127.0.0.1:8080/restcomm/demos/test.xml&lt;/Redirect&gt;';
   
    }  elseif($user_input == 2) {
 
        echo '&lt;Say&gt;You are being forwarded to Alice&lt;/Say&gt;';
        echo '&lt;Dial callerid="+1234568789"&gt;';
        echo '&lt;Client&gt;alice&lt;/Client&gt;';
	echo '&lt;/Dial&gt;';

     } 
    echo '&lt;/Response&gt;';
?&gt;

</pre><p>This example welcomes the user and offers two options. If the user presses 1, he hears the openining hours message. If the user presses 2, he will be redirected to user Alice.</p><p>To test the application using the Gather verb, dial any number from user Bob and follow the application instruction.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Using the Fax, SMS and other features of RestComm</h2><p>
Please note that Telestax also offers TelScale RestComm hosted on Amazon AWS. If you want to learn more about how to use DID provisioning and more, please visit <a class="ulink" href="http://www.telestax.com">www.telestax.com </a>
</p></div></div></div></div></div></body></html>